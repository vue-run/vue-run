(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{263:function(t,a,s){t.exports=s.p+"assets/img/j6.b86febf9.jpg"},264:function(t,a,s){t.exports=s.p+"assets/img/001.01e0bae1.jpg"},342:function(t,a,s){"use strict";s.r(a);var r=s(30),e=Object(r.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"深入浅出-vue-js"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#深入浅出-vue-js"}},[t._v("#")]),t._v(" 深入浅出 Vue.js")]),t._v(" "),r("p",[r("img",{attrs:{src:s(263),alt:"深入浅出 Vue.js"}})]),r("div",{staticClass:"table-of-contents"},[r("ul",[r("li",[r("a",{attrs:{href:"#vue-js-简史"}},[t._v("Vue.js 简史")]),r("ul",[r("li",[r("a",{attrs:{href:"#什么是-vue-js"}},[t._v("什么是 Vue.js")])]),r("li",[r("a",{attrs:{href:"#vue-js-简史"}},[t._v("Vue.js 简史")])])])]),r("li",[r("a",{attrs:{href:"#变化侦测"}},[t._v("变化侦测")]),r("ul",[r("li",[r("a",{attrs:{href:"#object-的变化侦测"}},[t._v("Object 的变化侦测")])]),r("li",[r("a",{attrs:{href:"#array-的变化侦测"}},[t._v("Array 的变化侦测")])]),r("li",[r("a",{attrs:{href:"#变化侦测相关-api-实现原理"}},[t._v("变化侦测相关 API 实现原理")])])])]),r("li",[r("a",{attrs:{href:"#虚拟-dom"}},[t._v("虚拟 DOM")]),r("ul",[r("li",[r("a",{attrs:{href:"#虚拟-dom-简介"}},[t._v("虚拟 DOM 简介")])]),r("li",[r("a",{attrs:{href:"#vnode"}},[t._v("VNode")])]),r("li",[r("a",{attrs:{href:"#patch"}},[t._v("patch")])])])]),r("li",[r("a",{attrs:{href:"#模版编译原理"}},[t._v("模版编译原理")]),r("ul",[r("li",[r("a",{attrs:{href:"#模版编译"}},[t._v("模版编译")])]),r("li",[r("a",{attrs:{href:"#解析器"}},[t._v("解析器")])]),r("li",[r("a",{attrs:{href:"#优化器"}},[t._v("优化器")])]),r("li",[r("a",{attrs:{href:"#代码生成器"}},[t._v("代码生成器")])])])]),r("li",[r("a",{attrs:{href:"#整体流程"}},[t._v("整体流程")]),r("ul",[r("li",[r("a",{attrs:{href:"#架构设计与项目结构"}},[t._v("架构设计与项目结构")])]),r("li",[r("a",{attrs:{href:"#实例方法与全局-api-的实现原理"}},[t._v("实例方法与全局 API 的实现原理")])]),r("li",[r("a",{attrs:{href:"#生命周期"}},[t._v("生命周期")])]),r("li",[r("a",{attrs:{href:"#指令的奥秘"}},[t._v("指令的奥秘")])]),r("li",[r("a",{attrs:{href:"#过滤器的奥秘"}},[t._v("过滤器的奥秘")])]),r("li",[r("a",{attrs:{href:"#最佳实践"}},[t._v("最佳实践")])])])])])]),r("p"),t._v(" "),r("h2",{attrs:{id:"vue-js-简史"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vue-js-简史"}},[t._v("#")]),t._v(" Vue.js 简史")]),t._v(" "),r("h3",{attrs:{id:"什么是-vue-js"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#什么是-vue-js"}},[t._v("#")]),t._v(" 什么是 Vue.js")]),t._v(" "),r("ul",[r("li",[t._v("The Progressive Framewor 渐进式框架")])]),t._v(" "),r("p",[t._v("在我看来，渐进式的含义, 框架本身主张最少。")]),t._v(" "),r("p",[t._v("如果有一个现成的服务端应用，也就是非单页应用，可以将 Vue.js 作为该应用的一部分嵌入其中，带来更加丰富的交互体验。甚至可以单纯只使用它的视图层当作模版引擎来使用。Vue.js 本身是一个自底向上增量开发的设计。")]),t._v(" "),r("h3",{attrs:{id:"vue-js-简史-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vue-js-简史-2"}},[t._v("#")]),t._v(" Vue.js 简史")]),t._v(" "),r("ul",[r("li",[t._v("2013/07/28 Evan You 为 Vue.js 的 repo 发起第一个 commit,此时该项目名叫做"),r("strong",[t._v("Element")]),t._v("，后来更名为"),r("strong",[t._v("Seed.js")])]),t._v(" "),r("li",[t._v("2013/12/07 发布版本 0.6.0，正式更名为 Vue.js，并且把默认指令前缀改为"),r("code",[t._v("v-")]),t._v("，Vue.js 正式问世。")]),t._v(" "),r("li",[t._v("2014/02/01 Evan You 将 Vue.js0.8 发布在国外的 Hacker News 网站，这代表它首次公开发布。")]),t._v(" "),r("li",[t._v("2015/10/26 Vue.js 发布 1.0.0 版本，代号“新世纪福音战士(Evangelion)”。")])]),t._v(" "),r("blockquote",[r("p",[t._v('"The fate of destruction is also the joy of rebirth." 毁灭的命运，也是重生的喜悦。')])]),t._v(" "),r("ul",[r("li",[t._v("2016/10/01 Vue.js 发布 2.0.0 版本，代号“攻壳机动队(Ghost in the Shell)”")])]),t._v(" "),r("blockquote",[r("p",[t._v('"Your effort to remain what you are is what limits you." 保持本色的努力，也在限制你的发展。')])]),t._v(" "),r("p",[t._v("最早的 Vue.js 只做视图层，没有路由，没有状态管理，更没有官方的构建工具 vue-cli，只有一个库，放在网页里就可以直接用。")]),t._v(" "),r("p",[t._v("最核心的部分是视图层渲染，然后往外是组件机制，在这个基础上再加入路由机制, 状态管理...，最外层是构建工具。")]),t._v(" "),r("p",[r("img",{attrs:{src:s(264),alt:"所谓渐进式"}})]),t._v(" "),r("p",[t._v("所谓分层，就是说你既可以只使用最核心的视图层渲染功能来实现快速开发，也可以使用全家桶来开发大型应用。")]),t._v(" "),r("p",[t._v("Vue.js2.0 版本与 1.0 版本之间内部变化非常大，整个渲染层逻辑重写了，但是 API 层面的变化却很小。2.0 版本引入虚拟 DOM 的概念，其渲染过程更快了。但是值得注意的是，并不是引入虚拟 DOM 后渲染速度就一定会变快，"),r("strong",[t._v("准确的说，应该是 80%场景下变得更快了，剩余的 20%反而变慢了")]),t._v("。")]),t._v(" "),r("h2",{attrs:{id:"变化侦测"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#变化侦测"}},[t._v("#")]),t._v(" 变化侦测")]),t._v(" "),r("h3",{attrs:{id:"object-的变化侦测"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#object-的变化侦测"}},[t._v("#")]),t._v(" Object 的变化侦测")]),t._v(" "),r("blockquote",[r("p",[t._v("Vue.js 最独特的特性之一是看起来并不显眼的响应式系统。数据模型仅仅是普通的 JavaScript 对象。而当你修改它们时，视图会进行更新。这使得状态管理非常简单、直接。不过理解其工作原理同样重要，这样你可以规避一些常见的问题。 ——官方文档")])]),t._v(" "),r("p",[t._v("从状态生成 DOM，再输出到用户界面显示的一整套流程叫做渲染，应用在运行时会不断的进行重新渲染。而响应式系统赋予框架重新渲染的能力，其重要组成部分是变化侦测。变化侦测是响应式系统的核心，没有它，也就没有重新渲染。框架在运行时，视图也就无法随着状态的变化而变化。")]),t._v(" "),r("p",[t._v("变化侦测的作用其实就是侦测数据的变化，当数据变化时，会通知视图进行相应的更新。也就是我们常说的“数据驱动”。")]),t._v(" "),r("h4",{attrs:{id:"_2-1-什么是变化侦测"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-什么是变化侦测"}},[t._v("#")]),t._v(" 2.1 什么是变化侦测")]),t._v(" "),r("p",[r("code",[t._v("Object")]),t._v("和"),r("code",[t._v("Array")]),t._v("的变化侦测是采用不同的处理方式。")]),t._v(" "),r("p",[t._v("通常，在运行时应用内部的状态会不断发生变化，此时需要不停的重新渲染。这时如何确定状态中发送了什么变化？")]),t._v(" "),r("p",[t._v("变化侦测就是来解决这个问题的，它分为两种类型：一种是 push，另一种是 pull。")]),t._v(" "),r("p",[t._v("Angular.js 和 React.js 中的变化侦测都属于 pull，当状态发生变化时，它并不知道具体哪个状态改变了，只知道某个状态有可能变了，然后会发送一个信号告诉框架，框架内部收到信号后，会进行一个相对暴力的 diff 处理。在 Angular.js 中这是脏检查的流程，在 React.js 中使用的虚拟 DOM。")]),t._v(" "),r("p",[t._v("而 Vue.js 的变化侦测属于 push，当状态变化时，Vue.js 立刻知道了，而且在一定程度上知道哪些状态有变化，因此可以做更细粒度的更新。")]),t._v(" "),r("p",[t._v("更新的粒度更细，每个状态所绑定的依赖也就越多，依赖追踪在内存上的开销也就会越大。")]),t._v(" "),r("p",[t._v("因此，Vue.js 从 2.0 开始引入虚拟 DOM，将粒度调整为中等，也就是一个状态绑定的依赖不再是具体的 DOM 节点，而是一个组件。")]),t._v(" "),r("h4",{attrs:{id:"_2-2-如何追踪变化"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-如何追踪变化"}},[t._v("#")]),t._v(" 2.2 如何追踪变化")]),t._v(" "),r("p",[t._v("目前在 JS 中有两种方法可以侦测到对象的变化:")]),t._v(" "),r("ul",[r("li",[t._v("使用"),r("code",[t._v("Object.defineProperty")])]),t._v(" "),r("li",[t._v("使用"),r("code",[t._v("Proxy")])])]),t._v(" "),r("p",[t._v("由于兼容性问题，在 2.x 中还是使用的"),r("code",[t._v("Object.defineProperty")]),t._v("这个 API，下面是进行一个简单的封装函数")]),t._v(" "),r("div",{staticClass:"language-javascript line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-javascript"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineReactive")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Object"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    enumeratble"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    configurable"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("get")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" val"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("set")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newVal")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" newVal"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      val "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newVal"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br"),r("span",{staticClass:"line-number"},[t._v("4")]),r("br"),r("span",{staticClass:"line-number"},[t._v("5")]),r("br"),r("span",{staticClass:"line-number"},[t._v("6")]),r("br"),r("span",{staticClass:"line-number"},[t._v("7")]),r("br"),r("span",{staticClass:"line-number"},[t._v("8")]),r("br"),r("span",{staticClass:"line-number"},[t._v("9")]),r("br"),r("span",{staticClass:"line-number"},[t._v("10")]),r("br"),r("span",{staticClass:"line-number"},[t._v("11")]),r("br"),r("span",{staticClass:"line-number"},[t._v("12")]),r("br"),r("span",{staticClass:"line-number"},[t._v("13")]),r("br"),r("span",{staticClass:"line-number"},[t._v("14")]),r("br"),r("span",{staticClass:"line-number"},[t._v("15")]),r("br")])]),r("h4",{attrs:{id:"_2-3-如何收集依赖"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-如何收集依赖"}},[t._v("#")]),t._v(" 2.3 如何收集依赖")]),t._v(" "),r("p",[t._v("进行简单的封装，其实并没有实际作用，真正有用的是收集依赖。")]),t._v(" "),r("div",{staticClass:"custom-block warning"},[r("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),r("p",[t._v("在 Vue.js 中，模版使用数据等同于组件使用数据，所以当数据发生变化时，会将通知发送到组件，然后组件内部在通过虚拟 DOM 重新渲染。")])]),t._v(" "),r("p",[t._v("在"),r("code",[t._v("getter")]),t._v("中收集依赖，在"),r("code",[t._v("setter")]),t._v("中触发依赖。")]),t._v(" "),r("h4",{attrs:{id:"_2-4-依赖在哪里"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-依赖在哪里"}},[t._v("#")]),t._v(" 2.4 依赖在哪里")]),t._v(" "),r("p",[t._v("创建一个"),r("code",[t._v("Dep")]),t._v("类，专门用做管理依赖。使用这个类，我们可以进行收集依赖，删除依赖或向依赖发送通知。")]),t._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("arr"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" item")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arr"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" index "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arr"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexOf")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("index "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" arr"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("splice")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("index"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dep")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subs "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSub")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subs"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sub"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeSub")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("sub")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subs"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sub"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("depend")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 假设依赖是一个函数，并且挂在window上")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSub")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("notify")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" subs "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subs"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" length "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" subs"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      subs"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br"),r("span",{staticClass:"line-number"},[t._v("4")]),r("br"),r("span",{staticClass:"line-number"},[t._v("5")]),r("br"),r("span",{staticClass:"line-number"},[t._v("6")]),r("br"),r("span",{staticClass:"line-number"},[t._v("7")]),r("br"),r("span",{staticClass:"line-number"},[t._v("8")]),r("br"),r("span",{staticClass:"line-number"},[t._v("9")]),r("br"),r("span",{staticClass:"line-number"},[t._v("10")]),r("br"),r("span",{staticClass:"line-number"},[t._v("11")]),r("br"),r("span",{staticClass:"line-number"},[t._v("12")]),r("br"),r("span",{staticClass:"line-number"},[t._v("13")]),r("br"),r("span",{staticClass:"line-number"},[t._v("14")]),r("br"),r("span",{staticClass:"line-number"},[t._v("15")]),r("br"),r("span",{staticClass:"line-number"},[t._v("16")]),r("br"),r("span",{staticClass:"line-number"},[t._v("17")]),r("br"),r("span",{staticClass:"line-number"},[t._v("18")]),r("br"),r("span",{staticClass:"line-number"},[t._v("19")]),r("br"),r("span",{staticClass:"line-number"},[t._v("20")]),r("br"),r("span",{staticClass:"line-number"},[t._v("21")]),r("br"),r("span",{staticClass:"line-number"},[t._v("22")]),r("br"),r("span",{staticClass:"line-number"},[t._v("23")]),r("br"),r("span",{staticClass:"line-number"},[t._v("24")]),r("br"),r("span",{staticClass:"line-number"},[t._v("25")]),r("br"),r("span",{staticClass:"line-number"},[t._v("26")]),r("br"),r("span",{staticClass:"line-number"},[t._v("27")]),r("br"),r("span",{staticClass:"line-number"},[t._v("28")]),r("br"),r("span",{staticClass:"line-number"},[t._v("29")]),r("br"),r("span",{staticClass:"line-number"},[t._v("30")]),r("br"),r("span",{staticClass:"line-number"},[t._v("31")]),r("br"),r("span",{staticClass:"line-number"},[t._v("32")]),r("br")])]),r("p",[t._v("之后再改造一下"),r("strong",[t._v("defineReactive")]),t._v(":")]),t._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineReactive")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dep "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dep")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  Object"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    enumerable"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    configurable"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("get")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      dep"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("deppend")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("set")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newVal")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" newVal"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      val "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newVal"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      dep"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("notify")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br"),r("span",{staticClass:"line-number"},[t._v("4")]),r("br"),r("span",{staticClass:"line-number"},[t._v("5")]),r("br"),r("span",{staticClass:"line-number"},[t._v("6")]),r("br"),r("span",{staticClass:"line-number"},[t._v("7")]),r("br"),r("span",{staticClass:"line-number"},[t._v("8")]),r("br"),r("span",{staticClass:"line-number"},[t._v("9")]),r("br"),r("span",{staticClass:"line-number"},[t._v("10")]),r("br"),r("span",{staticClass:"line-number"},[t._v("11")]),r("br"),r("span",{staticClass:"line-number"},[t._v("12")]),r("br"),r("span",{staticClass:"line-number"},[t._v("13")]),r("br"),r("span",{staticClass:"line-number"},[t._v("14")]),r("br"),r("span",{staticClass:"line-number"},[t._v("15")]),r("br"),r("span",{staticClass:"line-number"},[t._v("16")]),r("br"),r("span",{staticClass:"line-number"},[t._v("17")]),r("br")])]),r("h4",{attrs:{id:"_2-5-依赖是谁"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-依赖是谁"}},[t._v("#")]),t._v(" 2.5 依赖是谁")]),t._v(" "),r("p",[t._v("在之前的代码中，我们收集的依赖是"),r("code",[t._v("window.target")]),t._v("。")]),t._v(" "),r("p",[t._v("我们要通知用到此数据的地方，有可能会很多，而且类型还不一样，模版、computed、watch 等都有可能。这时需要抽象出一个能"),r("strong",[t._v("集中处理")]),t._v("这些情况的类"),r("code",[t._v("Watcher")]),t._v("。然后，我们在收集依赖的阶段只收集这个封装好的实例进来，通知也只通知它一个，接着，它再负责通知到其它地方。")]),t._v(" "),r("h4",{attrs:{id:"_2-6-什么是-wathcer"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-什么是-wathcer"}},[t._v("#")]),t._v(" 2.6 什么是 Wathcer")]),t._v(" "),r("p",[r("code",[t._v("Watcher")]),t._v("是一个中介的角色，数据发生变化时通知它，然后它再通知其它地方。")]),t._v(" "),r("p",[t._v("举个简单的用法例子:")]),t._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[t._v("vm"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("$watch")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a.b.c"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newVal"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldVal")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// do sth...")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br")])]),r("p",[t._v("此段代码表示当"),r("code",[t._v("data.a.b.c")]),t._v("的值发生变化时，触发二参回调。\n实现这个功能，也就是将 Watcher 实例添加到"),r("code",[t._v("data.a.b.c")]),t._v("属性的"),r("code",[t._v("Dep")]),t._v("中，然后当该属性的值发生变化时，通知"),r("code",[t._v("Watcher")]),t._v("，接着"),r("code",[t._v("Watcher")]),t._v("再执行回调。\n根据上面逻辑写出如下代码：")]),t._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Watcher")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("vm"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" expOrFn"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cb")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vm "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" vm"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 执行this.getter()，就可以读取data.a.b.c的值")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getter "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("parsePath")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("expOrFn"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cb "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" cb"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    window"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" value "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("getter")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vm"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vm"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    window"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" value"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" oldValue "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 赋值，手动触发一次")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("cb")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vm"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldValue"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br"),r("span",{staticClass:"line-number"},[t._v("4")]),r("br"),r("span",{staticClass:"line-number"},[t._v("5")]),r("br"),r("span",{staticClass:"line-number"},[t._v("6")]),r("br"),r("span",{staticClass:"line-number"},[t._v("7")]),r("br"),r("span",{staticClass:"line-number"},[t._v("8")]),r("br"),r("span",{staticClass:"line-number"},[t._v("9")]),r("br"),r("span",{staticClass:"line-number"},[t._v("10")]),r("br"),r("span",{staticClass:"line-number"},[t._v("11")]),r("br"),r("span",{staticClass:"line-number"},[t._v("12")]),r("br"),r("span",{staticClass:"line-number"},[t._v("13")]),r("br"),r("span",{staticClass:"line-number"},[t._v("14")]),r("br"),r("span",{staticClass:"line-number"},[t._v("15")]),r("br"),r("span",{staticClass:"line-number"},[t._v("16")]),r("br"),r("span",{staticClass:"line-number"},[t._v("17")]),r("br"),r("span",{staticClass:"line-number"},[t._v("18")]),r("br"),r("span",{staticClass:"line-number"},[t._v("19")]),r("br"),r("span",{staticClass:"line-number"},[t._v("20")]),r("br"),r("span",{staticClass:"line-number"},[t._v("21")]),r("br")])]),r("h4",{attrs:{id:"_2-7-递归侦测所有-key"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-递归侦测所有-key"}},[t._v("#")]),t._v(" 2.7 递归侦测所有 key")]),t._v(" "),r("h4",{attrs:{id:"_2-8-关于-object-的问题"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-关于-object-的问题"}},[t._v("#")]),t._v(" 2.8 关于 Object 的问题")]),t._v(" "),r("h4",{attrs:{id:"_2-9-总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-总结"}},[t._v("#")]),t._v(" 2.9 总结")]),t._v(" "),r("h3",{attrs:{id:"array-的变化侦测"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#array-的变化侦测"}},[t._v("#")]),t._v(" Array 的变化侦测")]),t._v(" "),r("h4",{attrs:{id:"_3-1-如何追踪变化"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-如何追踪变化"}},[t._v("#")]),t._v(" 3.1 如何追踪变化")]),t._v(" "),r("h4",{attrs:{id:"_3-2-拦截器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-拦截器"}},[t._v("#")]),t._v(" 3.2 拦截器")]),t._v(" "),r("h4",{attrs:{id:"_3-3-使用拦截器覆盖-array-原型"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-使用拦截器覆盖-array-原型"}},[t._v("#")]),t._v(" 3.3 使用拦截器覆盖 Array 原型")]),t._v(" "),r("h4",{attrs:{id:"_3-4-将拦截器方法挂载到数组的属性上"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-将拦截器方法挂载到数组的属性上"}},[t._v("#")]),t._v(" 3.4 将拦截器方法挂载到数组的属性上")]),t._v(" "),r("h4",{attrs:{id:"_3-5-如何收集依赖"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-如何收集依赖"}},[t._v("#")]),t._v(" 3.5 如何收集依赖")]),t._v(" "),r("h4",{attrs:{id:"_3-6-依赖列表在哪儿"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-依赖列表在哪儿"}},[t._v("#")]),t._v(" 3.6 依赖列表在哪儿")]),t._v(" "),r("h4",{attrs:{id:"_3-7-收集依赖"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-收集依赖"}},[t._v("#")]),t._v(" 3.7 收集依赖")]),t._v(" "),r("h4",{attrs:{id:"_3-8-在拦截器中获取-observer-实例"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-8-在拦截器中获取-observer-实例"}},[t._v("#")]),t._v(" 3.8 在拦截器中获取 Observer 实例")]),t._v(" "),r("h4",{attrs:{id:"_3-9-向数组的依赖发送通知"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-9-向数组的依赖发送通知"}},[t._v("#")]),t._v(" 3.9 向数组的依赖发送通知")]),t._v(" "),r("h4",{attrs:{id:"_3-10-侦测数组中的元素的变化"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-10-侦测数组中的元素的变化"}},[t._v("#")]),t._v(" 3.10 侦测数组中的元素的变化")]),t._v(" "),r("h4",{attrs:{id:"_3-11-侦测新增元素的变化"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-11-侦测新增元素的变化"}},[t._v("#")]),t._v(" 3.11 侦测新增元素的变化")]),t._v(" "),r("h5",{attrs:{id:"_3-11-1-获取新增元素"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-11-1-获取新增元素"}},[t._v("#")]),t._v(" 3.11.1 获取新增元素")]),t._v(" "),r("h5",{attrs:{id:"_3-11-2-使用-observer-侦测新增元素"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-11-2-使用-observer-侦测新增元素"}},[t._v("#")]),t._v(" 3.11.2 使用 Observer 侦测新增元素")]),t._v(" "),r("h4",{attrs:{id:"_3-12-关于-array-的问题"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-12-关于-array-的问题"}},[t._v("#")]),t._v(" 3.12 关于 Array 的问题")]),t._v(" "),r("h4",{attrs:{id:"_3-13-总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-13-总结"}},[t._v("#")]),t._v(" 3.13 总结")]),t._v(" "),r("h3",{attrs:{id:"变化侦测相关-api-实现原理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#变化侦测相关-api-实现原理"}},[t._v("#")]),t._v(" 变化侦测相关 API 实现原理")]),t._v(" "),r("h4",{attrs:{id:"_4-1vm-watch"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-1vm-watch"}},[t._v("#")]),t._v(" 4.1vm.$watch")]),t._v(" "),r("h5",{attrs:{id:"_4-1-1-用法"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-1-用法"}},[t._v("#")]),t._v(" 4.1.1 用法")]),t._v(" "),r("h5",{attrs:{id:"_4-1-2watch-的内部原理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-2watch-的内部原理"}},[t._v("#")]),t._v(" 4.1.2watch 的内部原理")]),t._v(" "),r("h5",{attrs:{id:"_4-1-3deep-参数的实现原理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-3deep-参数的实现原理"}},[t._v("#")]),t._v(" 4.1.3deep 参数的实现原理")]),t._v(" "),r("h4",{attrs:{id:"_4-2vm-set"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-2vm-set"}},[t._v("#")]),t._v(" 4.2vm.$set")]),t._v(" "),r("h5",{attrs:{id:"_4-2-1-用法"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-1-用法"}},[t._v("#")]),t._v(" 4.2.1 用法")]),t._v(" "),r("h5",{attrs:{id:"_4-2-2array-的处理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-2array-的处理"}},[t._v("#")]),t._v(" 4.2.2Array 的处理")]),t._v(" "),r("h5",{attrs:{id:"_4-2-3key-已经存在于-target-中"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-3key-已经存在于-target-中"}},[t._v("#")]),t._v(" 4.2.3key 已经存在于 target 中")]),t._v(" "),r("h5",{attrs:{id:"_4-2-4-处理新增的属性"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-4-处理新增的属性"}},[t._v("#")]),t._v(" 4.2.4 处理新增的属性")]),t._v(" "),r("h4",{attrs:{id:"_4-3vm-delete"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-3vm-delete"}},[t._v("#")]),t._v(" 4.3vm.$delete")]),t._v(" "),r("h5",{attrs:{id:"_4-3-1-用法"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-1-用法"}},[t._v("#")]),t._v(" 4.3.1 用法")]),t._v(" "),r("h5",{attrs:{id:"_4-3-2-实现原理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-2-实现原理"}},[t._v("#")]),t._v(" 4.3.2 实现原理")]),t._v(" "),r("h4",{attrs:{id:"_4-4-总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-总结"}},[t._v("#")]),t._v(" 4.4 总结")]),t._v(" "),r("h2",{attrs:{id:"虚拟-dom"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#虚拟-dom"}},[t._v("#")]),t._v(" 虚拟 DOM")]),t._v(" "),r("h3",{attrs:{id:"虚拟-dom-简介"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#虚拟-dom-简介"}},[t._v("#")]),t._v(" 虚拟 DOM 简介")]),t._v(" "),r("h4",{attrs:{id:"_5-1-什么是虚拟-dom"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-什么是虚拟-dom"}},[t._v("#")]),t._v(" 5.1 什么是虚拟 DOM")]),t._v(" "),r("h4",{attrs:{id:"_5-2-为什么要引入虚拟-dom"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-为什么要引入虚拟-dom"}},[t._v("#")]),t._v(" 5.2 为什么要引入虚拟 DOM")]),t._v(" "),r("h4",{attrs:{id:"_5-3vue-js-中的虚拟-dom"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5-3vue-js-中的虚拟-dom"}},[t._v("#")]),t._v(" 5.3Vue.js 中的虚拟 DOM")]),t._v(" "),r("h4",{attrs:{id:"_5-4-总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-总结"}},[t._v("#")]),t._v(" 5.4 总结")]),t._v(" "),r("h3",{attrs:{id:"vnode"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vnode"}},[t._v("#")]),t._v(" VNode")]),t._v(" "),r("h4",{attrs:{id:"_6-1-什么是-vnode"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-什么是-vnode"}},[t._v("#")]),t._v(" 6.1 什么是 VNode")]),t._v(" "),r("h4",{attrs:{id:"_6-2vnode-的作用"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_6-2vnode-的作用"}},[t._v("#")]),t._v(" 6.2VNode 的作用")]),t._v(" "),r("h4",{attrs:{id:"_6-3vnode-的类型"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_6-3vnode-的类型"}},[t._v("#")]),t._v(" 6.3VNode 的类型")]),t._v(" "),r("h5",{attrs:{id:"_6-3-1-注释节点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-1-注释节点"}},[t._v("#")]),t._v(" 6.3.1 注释节点")]),t._v(" "),r("h5",{attrs:{id:"_6-3-2-文本节点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-2-文本节点"}},[t._v("#")]),t._v(" 6.3.2 文本节点")]),t._v(" "),r("h5",{attrs:{id:"_6-3-3-克隆节点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-3-克隆节点"}},[t._v("#")]),t._v(" 6.3.3 克隆节点")]),t._v(" "),r("h5",{attrs:{id:"_6-3-4-元素节点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-4-元素节点"}},[t._v("#")]),t._v(" 6.3.4 元素节点")]),t._v(" "),r("h5",{attrs:{id:"_6-3-5-组件节点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-5-组件节点"}},[t._v("#")]),t._v(" 6.3.5 组件节点")]),t._v(" "),r("h5",{attrs:{id:"_6-3-6-函数式组件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-6-函数式组件"}},[t._v("#")]),t._v(" 6.3.6 函数式组件")]),t._v(" "),r("h4",{attrs:{id:"_6-4-总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-总结"}},[t._v("#")]),t._v(" 6.4 总结")]),t._v(" "),r("h3",{attrs:{id:"patch"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#patch"}},[t._v("#")]),t._v(" patch")]),t._v(" "),r("h4",{attrs:{id:"_7-1patch-介绍"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-1patch-介绍"}},[t._v("#")]),t._v(" 7.1patch 介绍")]),t._v(" "),r("h5",{attrs:{id:"_7-1-1-新增节点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-1-新增节点"}},[t._v("#")]),t._v(" 7.1.1 新增节点")]),t._v(" "),r("h5",{attrs:{id:"_7-1-2-删除节点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-2-删除节点"}},[t._v("#")]),t._v(" 7.1.2 删除节点")]),t._v(" "),r("h5",{attrs:{id:"_7-1-3-更新节点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-3-更新节点"}},[t._v("#")]),t._v(" 7.1.3 更新节点")]),t._v(" "),r("h5",{attrs:{id:"_7-1-4-小结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-4-小结"}},[t._v("#")]),t._v(" 7.1.4 小结")]),t._v(" "),r("h4",{attrs:{id:"_7-2-创建节点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-创建节点"}},[t._v("#")]),t._v(" 7.2 创建节点")]),t._v(" "),r("h4",{attrs:{id:"_7-3-删除节点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-3-删除节点"}},[t._v("#")]),t._v(" 7.3 删除节点")]),t._v(" "),r("h4",{attrs:{id:"_7-4-更新节点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-更新节点"}},[t._v("#")]),t._v(" 7.4 更新节点")]),t._v(" "),r("h5",{attrs:{id:"_7-4-1-静态节点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-1-静态节点"}},[t._v("#")]),t._v(" 7. 4.1 静态节点")]),t._v(" "),r("h5",{attrs:{id:"_7-4-2-新虚拟节点有文本属性"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-2-新虚拟节点有文本属性"}},[t._v("#")]),t._v(" 7. 4.2 新虚拟节点有文本属性")]),t._v(" "),r("h5",{attrs:{id:"_7-4-3-新虚拟节点无文本属性"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-3-新虚拟节点无文本属性"}},[t._v("#")]),t._v(" 7. 4.3 新虚拟节点无文本属性")]),t._v(" "),r("h5",{attrs:{id:"_7-4-4-小结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-4-小结"}},[t._v("#")]),t._v(" 7. 4.4 小结")]),t._v(" "),r("h4",{attrs:{id:"_7-5-更新子节点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-5-更新子节点"}},[t._v("#")]),t._v(" 7.5 更新子节点")]),t._v(" "),r("h5",{attrs:{id:"_7-5-1-更新策略"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-5-1-更新策略"}},[t._v("#")]),t._v(" 7.5.1 更新策略")]),t._v(" "),r("h5",{attrs:{id:"_7-5-2-优化策略"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-5-2-优化策略"}},[t._v("#")]),t._v(" 7.5.2 优化策略")]),t._v(" "),r("h5",{attrs:{id:"_7-5-3-哪些节点是未处理过的"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-5-3-哪些节点是未处理过的"}},[t._v("#")]),t._v(" 7.5.3 哪些节点是未处理过的")]),t._v(" "),r("h5",{attrs:{id:"_7-5-4-小结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-5-4-小结"}},[t._v("#")]),t._v(" 7.5.4 小结")]),t._v(" "),r("h4",{attrs:{id:"_7-6-总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-6-总结"}},[t._v("#")]),t._v(" 7.6 总结")]),t._v(" "),r("h2",{attrs:{id:"模版编译原理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#模版编译原理"}},[t._v("#")]),t._v(" 模版编译原理")]),t._v(" "),r("h3",{attrs:{id:"模版编译"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#模版编译"}},[t._v("#")]),t._v(" 模版编译")]),t._v(" "),r("h4",{attrs:{id:"_8-1-概念"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-概念"}},[t._v("#")]),t._v(" 8.1 概念")]),t._v(" "),r("h4",{attrs:{id:"_8-2-将模版编译成渲染函数"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-将模版编译成渲染函数"}},[t._v("#")]),t._v(" 8.2 将模版编译成渲染函数")]),t._v(" "),r("h5",{attrs:{id:"_8-2-1-解析器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-1-解析器"}},[t._v("#")]),t._v(" 8.2.1 解析器")]),t._v(" "),r("h5",{attrs:{id:"_8-2-2-优化器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-2-优化器"}},[t._v("#")]),t._v(" 8.2.2 优化器")]),t._v(" "),r("h5",{attrs:{id:"_8-2-3-代码生成器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-3-代码生成器"}},[t._v("#")]),t._v(" 8.2.3 代码生成器")]),t._v(" "),r("h4",{attrs:{id:"_8-3-总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_8-3-总结"}},[t._v("#")]),t._v(" 8.3 总结")]),t._v(" "),r("h3",{attrs:{id:"解析器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#解析器"}},[t._v("#")]),t._v(" 解析器")]),t._v(" "),r("h4",{attrs:{id:"_9-1-解析器的作用"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-1-解析器的作用"}},[t._v("#")]),t._v(" 9.1 解析器的作用")]),t._v(" "),r("h4",{attrs:{id:"_9-2-解析器内部运行的原理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-解析器内部运行的原理"}},[t._v("#")]),t._v(" 9.2 解析器内部运行的原理")]),t._v(" "),r("h4",{attrs:{id:"_9-3html-解析器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-3html-解析器"}},[t._v("#")]),t._v(" 9.3HTML 解析器")]),t._v(" "),r("h5",{attrs:{id:"_9-3-1-运行原理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-3-1-运行原理"}},[t._v("#")]),t._v(" 9.3.1 运行原理")]),t._v(" "),r("h5",{attrs:{id:"_9-3-2-截取开始标签"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-3-2-截取开始标签"}},[t._v("#")]),t._v(" 9.3.2 截取开始标签")]),t._v(" "),r("h5",{attrs:{id:"_9-3-3-截取结束标签"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-3-3-截取结束标签"}},[t._v("#")]),t._v(" 9.3.3 截取结束标签")]),t._v(" "),r("h5",{attrs:{id:"_9-3-4-截取注释"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-3-4-截取注释"}},[t._v("#")]),t._v(" 9.3.4 截取注释")]),t._v(" "),r("h5",{attrs:{id:"_9-3-5-截取条件注释"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-3-5-截取条件注释"}},[t._v("#")]),t._v(" 9.3.5 截取条件注释")]),t._v(" "),r("h5",{attrs:{id:"_9-3-6-截取-doctype"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-3-6-截取-doctype"}},[t._v("#")]),t._v(" 9.3.6 截取 DOCTYPE")]),t._v(" "),r("h5",{attrs:{id:"_9-3-7-截取文本"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-3-7-截取文本"}},[t._v("#")]),t._v(" 9.3.7 截取文本")]),t._v(" "),r("h5",{attrs:{id:"_9-3-8-纯文本内容元素的处理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-3-8-纯文本内容元素的处理"}},[t._v("#")]),t._v(" 9.3.8 纯文本内容元素的处理")]),t._v(" "),r("h5",{attrs:{id:"_9-3-9-使用栈维护-dom-层级"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-3-9-使用栈维护-dom-层级"}},[t._v("#")]),t._v(" 9.3.9 使用栈维护 DOM 层级")]),t._v(" "),r("h5",{attrs:{id:"_9-3-10-整体逻辑"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-3-10-整体逻辑"}},[t._v("#")]),t._v(" 9.3.10 整体逻辑")]),t._v(" "),r("h4",{attrs:{id:"_9-4-文本解析器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-4-文本解析器"}},[t._v("#")]),t._v(" 9.4 文本解析器")]),t._v(" "),r("h4",{attrs:{id:"_9-5-总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-5-总结"}},[t._v("#")]),t._v(" 9.5 总结")]),t._v(" "),r("h3",{attrs:{id:"优化器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#优化器"}},[t._v("#")]),t._v(" 优化器")]),t._v(" "),r("h4",{attrs:{id:"_10-1-找出所有静态节点并标记"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_10-1-找出所有静态节点并标记"}},[t._v("#")]),t._v(" 10.1 找出所有静态节点并标记")]),t._v(" "),r("h4",{attrs:{id:"_10-2-找出所有静态根节点并标记"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_10-2-找出所有静态根节点并标记"}},[t._v("#")]),t._v(" 10.2 找出所有静态根节点并标记")]),t._v(" "),r("h4",{attrs:{id:"_10-3-总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_10-3-总结"}},[t._v("#")]),t._v(" 10.3 总结")]),t._v(" "),r("h3",{attrs:{id:"代码生成器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#代码生成器"}},[t._v("#")]),t._v(" 代码生成器")]),t._v(" "),r("h4",{attrs:{id:"_11-1-通过-ast-生成代码字符串"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_11-1-通过-ast-生成代码字符串"}},[t._v("#")]),t._v(" 11.1 通过 AST 生成代码字符串")]),t._v(" "),r("h4",{attrs:{id:"_11-2-代码生成器的原理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_11-2-代码生成器的原理"}},[t._v("#")]),t._v(" 11.2 代码生成器的原理")]),t._v(" "),r("h5",{attrs:{id:"_11-2-1-元素节点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_11-2-1-元素节点"}},[t._v("#")]),t._v(" 11.2.1 元素节点")]),t._v(" "),r("h5",{attrs:{id:"_11-2-2-文本节点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_11-2-2-文本节点"}},[t._v("#")]),t._v(" 11.2.2 文本节点")]),t._v(" "),r("h5",{attrs:{id:"_11-2-3-代码生成器的原理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_11-2-3-代码生成器的原理"}},[t._v("#")]),t._v(" 11.2.3 代码生成器的原理")]),t._v(" "),r("h4",{attrs:{id:"_11-3-总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_11-3-总结"}},[t._v("#")]),t._v(" 11.3 总结")]),t._v(" "),r("h2",{attrs:{id:"整体流程"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#整体流程"}},[t._v("#")]),t._v(" 整体流程")]),t._v(" "),r("h3",{attrs:{id:"架构设计与项目结构"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#架构设计与项目结构"}},[t._v("#")]),t._v(" 架构设计与项目结构")]),t._v(" "),r("h4",{attrs:{id:"_12-1-目录结构"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_12-1-目录结构"}},[t._v("#")]),t._v(" 12.1 目录结构")]),t._v(" "),r("h4",{attrs:{id:"_12-2-架构设计"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_12-2-架构设计"}},[t._v("#")]),t._v(" 12.2 架构设计")]),t._v(" "),r("h4",{attrs:{id:"_12-3-总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_12-3-总结"}},[t._v("#")]),t._v(" 12.3 总结")]),t._v(" "),r("h3",{attrs:{id:"实例方法与全局-api-的实现原理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#实例方法与全局-api-的实现原理"}},[t._v("#")]),t._v(" 实例方法与全局 API 的实现原理")]),t._v(" "),r("h4",{attrs:{id:"_13-1-数据相关的实例方法"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-1-数据相关的实例方法"}},[t._v("#")]),t._v(" 13.1 数据相关的实例方法")]),t._v(" "),r("h4",{attrs:{id:"_13-2-事件相关的实例方法"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-2-事件相关的实例方法"}},[t._v("#")]),t._v(" 13.2 事件相关的实例方法")]),t._v(" "),r("h5",{attrs:{id:"_13-2-1-vm-on"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-2-1-vm-on"}},[t._v("#")]),t._v(" 13.2.1 vm.$on")]),t._v(" "),r("h5",{attrs:{id:"_13-2-2-vm-off"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-2-2-vm-off"}},[t._v("#")]),t._v(" 13.2.2 vm.$off")]),t._v(" "),r("h5",{attrs:{id:"_13-2-3-vm-once"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-2-3-vm-once"}},[t._v("#")]),t._v(" 13.2.3 vm.$once")]),t._v(" "),r("h5",{attrs:{id:"_13-2-4-vm-emit"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-2-4-vm-emit"}},[t._v("#")]),t._v(" 13.2.4 vm.$emit")]),t._v(" "),r("h4",{attrs:{id:"_13-3-生命周期相关的实例方法"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-3-生命周期相关的实例方法"}},[t._v("#")]),t._v(" 13.3 生命周期相关的实例方法")]),t._v(" "),r("h5",{attrs:{id:"_13-3-1-vm-forceupdate"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-3-1-vm-forceupdate"}},[t._v("#")]),t._v(" 13.3.1 vm.$forceUpdate")]),t._v(" "),r("h5",{attrs:{id:"_13-3-2-vm-destroy"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-3-2-vm-destroy"}},[t._v("#")]),t._v(" 13.3.2 vm.$destroy")]),t._v(" "),r("h5",{attrs:{id:"_13-3-3-vm-nexttick"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-3-3-vm-nexttick"}},[t._v("#")]),t._v(" 13.3.3 vm.$nextTick")]),t._v(" "),r("h5",{attrs:{id:"_13-3-4-vm-mount"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-3-4-vm-mount"}},[t._v("#")]),t._v(" 13.3.4 vm.$mount")]),t._v(" "),r("h4",{attrs:{id:"_13-4-全局-api-的实现原理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-4-全局-api-的实现原理"}},[t._v("#")]),t._v(" 13.4 全局 API 的实现原理")]),t._v(" "),r("h5",{attrs:{id:"_13-4-1-vue-extend"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-4-1-vue-extend"}},[t._v("#")]),t._v(" 13.4.1 Vue.extend")]),t._v(" "),r("h5",{attrs:{id:"_13-4-2-vue-nexttick"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-4-2-vue-nexttick"}},[t._v("#")]),t._v(" 13.4.2 Vue.nextTick")]),t._v(" "),r("h5",{attrs:{id:"_13-4-3-vue-set"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-4-3-vue-set"}},[t._v("#")]),t._v(" 13.4.3 Vue.set")]),t._v(" "),r("h5",{attrs:{id:"_13-4-4-vue-delete"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-4-4-vue-delete"}},[t._v("#")]),t._v(" 13.4.4 Vue.delete")]),t._v(" "),r("h5",{attrs:{id:"_13-4-5-vue-directive"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-4-5-vue-directive"}},[t._v("#")]),t._v(" 13.4.5 Vue.directive")]),t._v(" "),r("h5",{attrs:{id:"_13-4-6-vue-filter"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-4-6-vue-filter"}},[t._v("#")]),t._v(" 13.4.6 Vue.filter")]),t._v(" "),r("h5",{attrs:{id:"_13-4-7-vue-component"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-4-7-vue-component"}},[t._v("#")]),t._v(" 13.4.7 Vue.component")]),t._v(" "),r("h5",{attrs:{id:"_13-4-8-vue-use"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-4-8-vue-use"}},[t._v("#")]),t._v(" 13.4.8 Vue.use")]),t._v(" "),r("h5",{attrs:{id:"_13-4-9-vue-mixin"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-4-9-vue-mixin"}},[t._v("#")]),t._v(" 13.4.9 Vue.mixin")]),t._v(" "),r("h5",{attrs:{id:"_13-4-10-vue-compile"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-4-10-vue-compile"}},[t._v("#")]),t._v(" 13.4.10 Vue.compile")]),t._v(" "),r("h5",{attrs:{id:"_13-4-10-vue-version"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-4-10-vue-version"}},[t._v("#")]),t._v(" 13.4.10 Vue.version")]),t._v(" "),r("h4",{attrs:{id:"_13-5-总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-5-总结"}},[t._v("#")]),t._v(" 13.5 总结")]),t._v(" "),r("h3",{attrs:{id:"生命周期"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),r("h4",{attrs:{id:"_14-1-生命周期图示"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_14-1-生命周期图示"}},[t._v("#")]),t._v(" 14.1 生命周期图示")]),t._v(" "),r("h5",{attrs:{id:"_14-1-1-初始化阶段"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_14-1-1-初始化阶段"}},[t._v("#")]),t._v(" 14.1.1 初始化阶段")]),t._v(" "),r("h5",{attrs:{id:"_14-1-2-模版编译阶段"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_14-1-2-模版编译阶段"}},[t._v("#")]),t._v(" 14.1.2 模版编译阶段")]),t._v(" "),r("h5",{attrs:{id:"_14-1-3-挂载阶段"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_14-1-3-挂载阶段"}},[t._v("#")]),t._v(" 14.1.3 挂载阶段")]),t._v(" "),r("h5",{attrs:{id:"_14-1-4-卸载阶段"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_14-1-4-卸载阶段"}},[t._v("#")]),t._v(" 14.1.4 卸载阶段")]),t._v(" "),r("h5",{attrs:{id:"_14-1-5-小结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_14-1-5-小结"}},[t._v("#")]),t._v(" 14.1.5 小结")]),t._v(" "),r("h4",{attrs:{id:"_14-2-从源码角度了解生命周期"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_14-2-从源码角度了解生命周期"}},[t._v("#")]),t._v(" 14.2 从源码角度了解生命周期")]),t._v(" "),r("h4",{attrs:{id:"_14-3-errorcaptured-与错误处理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_14-3-errorcaptured-与错误处理"}},[t._v("#")]),t._v(" 14.3 errorCaptured 与错误处理")]),t._v(" "),r("h4",{attrs:{id:"_14-4-初始化实例属性"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_14-4-初始化实例属性"}},[t._v("#")]),t._v(" 14.4 初始化实例属性")]),t._v(" "),r("h4",{attrs:{id:"_14-5-初始化事件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_14-5-初始化事件"}},[t._v("#")]),t._v(" 14.5 初始化事件")]),t._v(" "),r("h4",{attrs:{id:"_14-6-初始化-inject"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_14-6-初始化-inject"}},[t._v("#")]),t._v(" 14.6 初始化 inject")]),t._v(" "),r("h5",{attrs:{id:"_14-6-1-provide-inject-的使用方式"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_14-6-1-provide-inject-的使用方式"}},[t._v("#")]),t._v(" 14.6.1 provide/inject 的使用方式")]),t._v(" "),r("h5",{attrs:{id:"_14-6-2-inject-的内部原理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_14-6-2-inject-的内部原理"}},[t._v("#")]),t._v(" 14.6.2 inject 的内部原理")]),t._v(" "),r("h4",{attrs:{id:"_14-7-初始化状态"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_14-7-初始化状态"}},[t._v("#")]),t._v(" 14.7 初始化状态")]),t._v(" "),r("h5",{attrs:{id:"_14-7-1-初始化-props"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_14-7-1-初始化-props"}},[t._v("#")]),t._v(" 14.7.1 初始化 props")]),t._v(" "),r("h5",{attrs:{id:"_14-7-2-初始化-methods"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_14-7-2-初始化-methods"}},[t._v("#")]),t._v(" 14.7.2 初始化 methods")]),t._v(" "),r("h5",{attrs:{id:"_14-7-3-初始化-data"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_14-7-3-初始化-data"}},[t._v("#")]),t._v(" 14.7.3 初始化 data")]),t._v(" "),r("h5",{attrs:{id:"_14-7-4-初始化-computed"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_14-7-4-初始化-computed"}},[t._v("#")]),t._v(" 14.7.4 初始化 computed")]),t._v(" "),r("h5",{attrs:{id:"_14-7-5-初始化-watch"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_14-7-5-初始化-watch"}},[t._v("#")]),t._v(" 14.7.5 初始化 watch")]),t._v(" "),r("h4",{attrs:{id:"_14-8-初始化-provide"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_14-8-初始化-provide"}},[t._v("#")]),t._v(" 14.8 初始化 provide")]),t._v(" "),r("h4",{attrs:{id:"_14-9-总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_14-9-总结"}},[t._v("#")]),t._v(" 14.9 总结")]),t._v(" "),r("h3",{attrs:{id:"指令的奥秘"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#指令的奥秘"}},[t._v("#")]),t._v(" 指令的奥秘")]),t._v(" "),r("h4",{attrs:{id:"_15-1-指令原理概述"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_15-1-指令原理概述"}},[t._v("#")]),t._v(" 15.1 指令原理概述")]),t._v(" "),r("h5",{attrs:{id:"_15-1-1-v-if-指令的原理概述"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_15-1-1-v-if-指令的原理概述"}},[t._v("#")]),t._v(" 15.1.1 v-if 指令的原理概述")]),t._v(" "),r("h5",{attrs:{id:"_15-1-2-v-for-指令的原理概述"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_15-1-2-v-for-指令的原理概述"}},[t._v("#")]),t._v(" 15.1.2 v-for 指令的原理概述")]),t._v(" "),r("h5",{attrs:{id:"_15-1-3-v-on-指令"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_15-1-3-v-on-指令"}},[t._v("#")]),t._v(" 15.1.3 v-on 指令")]),t._v(" "),r("h4",{attrs:{id:"_15-1-自定义指令的内部原理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_15-1-自定义指令的内部原理"}},[t._v("#")]),t._v(" 15.1 自定义指令的内部原理")]),t._v(" "),r("h4",{attrs:{id:"_15-1-虚拟-dom-钩子函数"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_15-1-虚拟-dom-钩子函数"}},[t._v("#")]),t._v(" 15.1 虚拟 DOM 钩子函数")]),t._v(" "),r("h4",{attrs:{id:"_15-1-总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_15-1-总结"}},[t._v("#")]),t._v(" 15.1 总结")]),t._v(" "),r("h3",{attrs:{id:"过滤器的奥秘"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#过滤器的奥秘"}},[t._v("#")]),t._v(" 过滤器的奥秘")]),t._v(" "),r("h4",{attrs:{id:"_16-1-过滤器原理概述"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_16-1-过滤器原理概述"}},[t._v("#")]),t._v(" 16.1 过滤器原理概述")]),t._v(" "),r("h5",{attrs:{id:"_16-1-1-串联过滤器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_16-1-1-串联过滤器"}},[t._v("#")]),t._v(" 16.1.1 串联过滤器")]),t._v(" "),r("h5",{attrs:{id:"_16-1-2-滤器接收参数"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_16-1-2-滤器接收参数"}},[t._v("#")]),t._v(" 16.1.2 滤器接收参数")]),t._v(" "),r("h5",{attrs:{id:"_16-1-3-resolvefilter-内部原理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_16-1-3-resolvefilter-内部原理"}},[t._v("#")]),t._v(" 16.1.3 resolveFilter 内部原理")]),t._v(" "),r("h4",{attrs:{id:"_16-2-解析过滤器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_16-2-解析过滤器"}},[t._v("#")]),t._v(" 16.2 解析过滤器")]),t._v(" "),r("h4",{attrs:{id:"_16-3-总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_16-3-总结"}},[t._v("#")]),t._v(" 16.3 总结")]),t._v(" "),r("h3",{attrs:{id:"最佳实践"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#最佳实践"}},[t._v("#")]),t._v(" 最佳实践")]),t._v(" "),r("h4",{attrs:{id:"_17-1-为列表渲染设置属性-key"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-1-为列表渲染设置属性-key"}},[t._v("#")]),t._v(" 17.1 为列表渲染设置属性 key")]),t._v(" "),r("h4",{attrs:{id:"_17-2-在-v-if-v-if-else-v-else-中使用-key"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-2-在-v-if-v-if-else-v-else-中使用-key"}},[t._v("#")]),t._v(" 17.2 在 v-if/v-if-else/v-else 中使用 key")]),t._v(" "),r("h4",{attrs:{id:"_17-3-路由切换组件不变"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-3-路由切换组件不变"}},[t._v("#")]),t._v(" 17.3 路由切换组件不变")]),t._v(" "),r("h5",{attrs:{id:"_17-3-1-路由导航守卫-beforerouteupdate"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-3-1-路由导航守卫-beforerouteupdate"}},[t._v("#")]),t._v(" 17.3.1 路由导航守卫 beforeRouteUpdate")]),t._v(" "),r("h5",{attrs:{id:"_17-3-2-观察-route-对象的变化"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-3-2-观察-route-对象的变化"}},[t._v("#")]),t._v(" 17.3.2 观察$route 对象的变化")]),t._v(" "),r("h5",{attrs:{id:"_17-3-3-为-router-view-组件添加属性-key"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-3-3-为-router-view-组件添加属性-key"}},[t._v("#")]),t._v(" 17.3.3 为 router-view 组件添加属性 key")]),t._v(" "),r("h4",{attrs:{id:"_17-4-为所有路由统一添加-query"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-4-为所有路由统一添加-query"}},[t._v("#")]),t._v(" 17.4 为所有路由统一添加 query")]),t._v(" "),r("h5",{attrs:{id:"_17-4-1-使用全局守卫-beforeeach"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-4-1-使用全局守卫-beforeeach"}},[t._v("#")]),t._v(" 17.4.1 使用全局守卫 beforeEach")]),t._v(" "),r("h5",{attrs:{id:"_17-4-2-使用函数劫持"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-4-2-使用函数劫持"}},[t._v("#")]),t._v(" 17.4.2 使用函数劫持")]),t._v(" "),r("h4",{attrs:{id:"_17-5-区分-vuex-与-props-的使用边界"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-5-区分-vuex-与-props-的使用边界"}},[t._v("#")]),t._v(" 17.5 区分 Vuex 与 props 的使用边界")]),t._v(" "),r("h4",{attrs:{id:"_17-6-避免-v-if-和-v-for-一起使用"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-6-避免-v-if-和-v-for-一起使用"}},[t._v("#")]),t._v(" 17.6 避免 v-if 和 v-for 一起使用")]),t._v(" "),r("h4",{attrs:{id:"_17-7-为组件样式设置作用域"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-7-为组件样式设置作用域"}},[t._v("#")]),t._v(" 17.7 为组件样式设置作用域")]),t._v(" "),r("h4",{attrs:{id:"_17-8-避免在-scoped-中使用元素选择器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-8-避免在-scoped-中使用元素选择器"}},[t._v("#")]),t._v(" 17.8 避免在 scoped 中使用元素选择器")]),t._v(" "),r("h4",{attrs:{id:"_17-9-避免隐性的父子组件通信"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-9-避免隐性的父子组件通信"}},[t._v("#")]),t._v(" 17.9 避免隐性的父子组件通信")]),t._v(" "),r("h4",{attrs:{id:"_17-10-单文件组件如何命名"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-10-单文件组件如何命名"}},[t._v("#")]),t._v(" 17.10 单文件组件如何命名")]),t._v(" "),r("h5",{attrs:{id:"_17-10-1-单文件组件的文件名的大小写"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-10-1-单文件组件的文件名的大小写"}},[t._v("#")]),t._v(" 17.10.1 单文件组件的文件名的大小写")]),t._v(" "),r("h5",{attrs:{id:"_17-10-2-基础组件名"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-10-2-基础组件名"}},[t._v("#")]),t._v(" 17.10.2 基础组件名")]),t._v(" "),r("h5",{attrs:{id:"_17-10-3-单例组件名"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-10-3-单例组件名"}},[t._v("#")]),t._v(" 17.10.3 单例组件名")]),t._v(" "),r("h5",{attrs:{id:"_17-10-4-紧密耦合的组件名"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-10-4-紧密耦合的组件名"}},[t._v("#")]),t._v(" 17.10.4 紧密耦合的组件名")]),t._v(" "),r("h5",{attrs:{id:"_17-10-5-组件名中的单词顺序"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-10-5-组件名中的单词顺序"}},[t._v("#")]),t._v(" 17.10.5 组件名中的单词顺序")]),t._v(" "),r("h5",{attrs:{id:"_17-10-6-完整单词的组件名"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-10-6-完整单词的组件名"}},[t._v("#")]),t._v(" 17.10.6 完整单词的组件名")]),t._v(" "),r("h5",{attrs:{id:"_17-10-7-组件名为多个单词"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-10-7-组件名为多个单词"}},[t._v("#")]),t._v(" 17.10.7 组件名为多个单词")]),t._v(" "),r("h5",{attrs:{id:"_17-10-8-模版中的组件名大小写"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-10-8-模版中的组件名大小写"}},[t._v("#")]),t._v(" 17.10.8 模版中的组件名大小写")]),t._v(" "),r("h5",{attrs:{id:"_17-10-9-js-jsx-中的组件名大小写"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-10-9-js-jsx-中的组件名大小写"}},[t._v("#")]),t._v(" 17.10.9 JS/JSX 中的组件名大小写")]),t._v(" "),r("h4",{attrs:{id:"_17-11-自闭合组件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-11-自闭合组件"}},[t._v("#")]),t._v(" 17.11 自闭合组件")]),t._v(" "),r("h4",{attrs:{id:"_17-12-props-名的大小写"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-12-props-名的大小写"}},[t._v("#")]),t._v(" 17.12 props 名的大小写")]),t._v(" "),r("h4",{attrs:{id:"_17-13-多个特性的元素"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-13-多个特性的元素"}},[t._v("#")]),t._v(" 17.13 多个特性的元素")]),t._v(" "),r("h4",{attrs:{id:"_17-14-模版中简单的表达式"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-14-模版中简单的表达式"}},[t._v("#")]),t._v(" 17.14 模版中简单的表达式")]),t._v(" "),r("h4",{attrs:{id:"_17-15-简单的计算属性"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-15-简单的计算属性"}},[t._v("#")]),t._v(" 17.15 简单的计算属性")]),t._v(" "),r("h4",{attrs:{id:"_17-16-指令缩写"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-16-指令缩写"}},[t._v("#")]),t._v(" 17.16 指令缩写")]),t._v(" "),r("h4",{attrs:{id:"_17-17-良好的代码顺序"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-17-良好的代码顺序"}},[t._v("#")]),t._v(" 17.17 良好的代码顺序")]),t._v(" "),r("h5",{attrs:{id:"_17-17-1-组件-实例的选项的顺序"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-17-1-组件-实例的选项的顺序"}},[t._v("#")]),t._v(" 17.17.1 组件/实例的选项的顺序")]),t._v(" "),r("h5",{attrs:{id:"_17-17-2-元素特性的顺序"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-17-2-元素特性的顺序"}},[t._v("#")]),t._v(" 17.17.2 元素特性的顺序")]),t._v(" "),r("h5",{attrs:{id:"_17-17-3-单文件组件顶级元素的顺序"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-17-3-单文件组件顶级元素的顺序"}},[t._v("#")]),t._v(" 17.17.3 单文件组件顶级元素的顺序")]),t._v(" "),r("h4",{attrs:{id:"_17-18-总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_17-18-总结"}},[t._v("#")]),t._v(" 17.18 总结")])])}),[],!1,null,null,null);a.default=e.exports}}]);