<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>浏览器相关 | vue-run</title>
    <meta name="description" content="打造一个舒适的前端工作流">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico">
  <link rel="icon" href="/logo.png">
    
    <link rel="preload" href="/assets/css/0.styles.31620747.css" as="style"><link rel="preload" href="/assets/js/app.ad74b50b.js" as="script"><link rel="preload" href="/assets/js/2.2054c3ab.js" as="script"><link rel="preload" href="/assets/js/5.a116802f.js" as="script"><link rel="prefetch" href="/assets/js/10.2fcb329f.js"><link rel="prefetch" href="/assets/js/11.aa231dd9.js"><link rel="prefetch" href="/assets/js/12.9f1fdf0e.js"><link rel="prefetch" href="/assets/js/13.d119215d.js"><link rel="prefetch" href="/assets/js/14.de9dfb60.js"><link rel="prefetch" href="/assets/js/15.15c1321a.js"><link rel="prefetch" href="/assets/js/16.d047a64e.js"><link rel="prefetch" href="/assets/js/17.fa9b699d.js"><link rel="prefetch" href="/assets/js/18.d4110752.js"><link rel="prefetch" href="/assets/js/19.e47e31ff.js"><link rel="prefetch" href="/assets/js/20.c21ff74b.js"><link rel="prefetch" href="/assets/js/21.403ef4cb.js"><link rel="prefetch" href="/assets/js/22.afbc471c.js"><link rel="prefetch" href="/assets/js/23.8fc68b7a.js"><link rel="prefetch" href="/assets/js/24.aaa61bbc.js"><link rel="prefetch" href="/assets/js/25.1546e7a8.js"><link rel="prefetch" href="/assets/js/26.d61179ba.js"><link rel="prefetch" href="/assets/js/27.357b1395.js"><link rel="prefetch" href="/assets/js/28.cc219ae3.js"><link rel="prefetch" href="/assets/js/29.b6955861.js"><link rel="prefetch" href="/assets/js/3.a4e279d6.js"><link rel="prefetch" href="/assets/js/30.043e4801.js"><link rel="prefetch" href="/assets/js/31.c1b8cf35.js"><link rel="prefetch" href="/assets/js/32.42958bd6.js"><link rel="prefetch" href="/assets/js/33.e126e05f.js"><link rel="prefetch" href="/assets/js/34.6864e25a.js"><link rel="prefetch" href="/assets/js/35.aeeec13a.js"><link rel="prefetch" href="/assets/js/36.a3946cf6.js"><link rel="prefetch" href="/assets/js/37.b4478e59.js"><link rel="prefetch" href="/assets/js/38.574146f4.js"><link rel="prefetch" href="/assets/js/39.3cd37280.js"><link rel="prefetch" href="/assets/js/4.c0861a31.js"><link rel="prefetch" href="/assets/js/40.c5a34540.js"><link rel="prefetch" href="/assets/js/41.7f323d85.js"><link rel="prefetch" href="/assets/js/42.d31181fa.js"><link rel="prefetch" href="/assets/js/43.6e0bf2e6.js"><link rel="prefetch" href="/assets/js/44.68a308ee.js"><link rel="prefetch" href="/assets/js/45.2ef9d7c8.js"><link rel="prefetch" href="/assets/js/46.5441fd11.js"><link rel="prefetch" href="/assets/js/47.fab1189a.js"><link rel="prefetch" href="/assets/js/48.ff364c5c.js"><link rel="prefetch" href="/assets/js/49.25efaf4d.js"><link rel="prefetch" href="/assets/js/50.ec8ad626.js"><link rel="prefetch" href="/assets/js/51.d1f171f3.js"><link rel="prefetch" href="/assets/js/52.100e2510.js"><link rel="prefetch" href="/assets/js/53.f7e297ba.js"><link rel="prefetch" href="/assets/js/54.d0716ad6.js"><link rel="prefetch" href="/assets/js/55.6984554f.js"><link rel="prefetch" href="/assets/js/56.c9d4b98a.js"><link rel="prefetch" href="/assets/js/57.1736acb1.js"><link rel="prefetch" href="/assets/js/58.1e194851.js"><link rel="prefetch" href="/assets/js/59.cc8df9af.js"><link rel="prefetch" href="/assets/js/6.f95efe2a.js"><link rel="prefetch" href="/assets/js/60.6a846f1a.js"><link rel="prefetch" href="/assets/js/61.e0a08076.js"><link rel="prefetch" href="/assets/js/62.5b3128e3.js"><link rel="prefetch" href="/assets/js/63.d9c80c61.js"><link rel="prefetch" href="/assets/js/64.686b1cb0.js"><link rel="prefetch" href="/assets/js/65.ce207947.js"><link rel="prefetch" href="/assets/js/66.cea7a33b.js"><link rel="prefetch" href="/assets/js/67.6bf9f16e.js"><link rel="prefetch" href="/assets/js/68.c3755fba.js"><link rel="prefetch" href="/assets/js/69.1987d1f9.js"><link rel="prefetch" href="/assets/js/7.60e754f0.js"><link rel="prefetch" href="/assets/js/70.55bd8888.js"><link rel="prefetch" href="/assets/js/71.3f35de42.js"><link rel="prefetch" href="/assets/js/72.249f0def.js"><link rel="prefetch" href="/assets/js/73.e19ee3e7.js"><link rel="prefetch" href="/assets/js/8.d7e7dd67.js"><link rel="prefetch" href="/assets/js/9.b3d60b51.js">
    <link rel="stylesheet" href="/assets/css/0.styles.31620747.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">vue-run</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/config/" class="nav-link">
  推荐配置
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="读书笔记" class="dropdown-title"><span class="title">读书笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Javascript书籍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/javascript/编写高质量JavaScript的68个有效方法.html" class="nav-link">
  编写高质量JavaScript的68个有效方法
</a></li><li class="dropdown-subitem"><a href="/books/javascript/编写可维护的JavaScript.html" class="nav-link">
  编写可维护的JavaScript
</a></li><li class="dropdown-subitem"><a href="/books/javascript/你不知道的JavaScript上卷.html" class="nav-link">
  你不知道的JavaScript(上卷)
</a></li><li class="dropdown-subitem"><a href="/books/javascript/你不知道的JavaScript中卷.html" class="nav-link">
  你不知道的JavaScript(中卷)
</a></li><li class="dropdown-subitem"><a href="/books/javascript/ES6标准入门.html" class="nav-link">
  ES6标准入门
</a></li><li class="dropdown-subitem"><a href="/books/javascript/深入理解ES6.html" class="nav-link">
  深入理解ES6
</a></li><li class="dropdown-subitem"><a href="/books/javascript/深入理解TypeScript.html" class="nav-link">
  深入理解TypeScript
</a></li><li class="dropdown-subitem"><a href="/books/javascript/深入浅出Vue.js.html" class="nav-link">
  深入浅出Vue.js
</a></li><li class="dropdown-subitem"><a href="/books/javascript/了不起的JavaScript工程师.html" class="nav-link">
  了不起的JavaScript工程师
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript高级程序设计.html" class="nav-link">
  JavaScript高级程序设计
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript面向对象编程指南.html" class="nav-link">
  JavaScript面向对象编程指南
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript面向对象精要.html" class="nav-link">
  JavaScript面向对象精要
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript函数式编程指南.html" class="nav-link">
  JavaScript函数式编程指南
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript忍者秘籍.html" class="nav-link">
  JavaScript忍者秘籍
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript编程精解.html" class="nav-link">
  JavaScript编程精解
</a></li><li class="dropdown-subitem"><a href="/books/javascript/Javascript语言精髓与编程实践.html" class="nav-link">
  JavaScript语言精髓与编程实践
</a></li><li class="dropdown-subitem"><a href="/books/javascript/Javascript设计模式与开发实战.html" class="nav-link">
  JavaScript设计模式与开发实战
</a></li><li class="dropdown-subitem"><a href="/books/javascript/Javascript框架设计.html" class="nav-link">
  JavaScript框架设计
</a></li></ul></li><li class="dropdown-item"><h4>
          Node书籍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/node/Node.js实战.html" class="nav-link">
  Node.js实战
</a></li><li class="dropdown-subitem"><a href="/books/node/Node.js开发实战.html" class="nav-link">
  Node.js开发实战
</a></li><li class="dropdown-subitem"><a href="/books/node/Node.js设计模式.html" class="nav-link">
  Node.js设计模式
</a></li></ul></li><li class="dropdown-item"><h4>
          算法书籍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/algorithmic/学习JavaScript数据结构与算法.html" class="nav-link">
  学习JavaScript数据结构与算法
</a></li></ul></li><li class="dropdown-item"><h4>
          css书籍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/css/css揭秘.html" class="nav-link">
  CSS揭秘
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面经" class="dropdown-title"><span class="title">面经</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/JavaScript.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/interview/CSS.html" class="nav-link">
  CSS
</a></li><li class="dropdown-subitem"><a href="/interview/HTTP.html" class="nav-link">
  HTTP
</a></li></ul></li><li class="dropdown-item"><h4>
          进阶
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/设计模式.html" class="nav-link">
  设计模式
</a></li><li class="dropdown-subitem"><a href="/interview/Node.html" class="nav-link">
  Node
</a></li><li class="dropdown-subitem"><a href="/interview/算法.html" class="nav-link">
  算法
</a></li><li class="dropdown-subitem"><a href="/interview/兼容性.html" class="nav-link">
  兼容性
</a></li><li class="dropdown-subitem"><a href="/interview/缓存.html" class="nav-link">
  缓存
</a></li><li class="dropdown-subitem"><a href="/interview/性能优化.html" class="nav-link">
  性能优化
</a></li></ul></li><li class="dropdown-item"><h4>
          RunTime
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/浏览器.html" class="nav-link">
  浏览器
</a></li><li class="dropdown-subitem"><a href="/interview/Webpack.html" class="nav-link">
  Webpack
</a></li></ul></li><li class="dropdown-item"><h4>
          选型
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/Vue.html" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/interview/React.html" class="nav-link">
  React
</a></li></ul></li><li class="dropdown-item"><h4>
          能力周边
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/Git操作.html" class="nav-link">
  Git操作
</a></li><li class="dropdown-subitem"><a href="/interview/前端监控.html" class="nav-link">
  前端监控
</a></li><li class="dropdown-subitem"><a href="/interview/安全防范.html" class="nav-link">
  安全防范
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/practice/" class="nav-link">
  最佳实践
</a></div><div class="nav-item"><a href="/summary/" class="nav-link">
  只言片语
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/config/" class="nav-link">
  推荐配置
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="读书笔记" class="dropdown-title"><span class="title">读书笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Javascript书籍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/javascript/编写高质量JavaScript的68个有效方法.html" class="nav-link">
  编写高质量JavaScript的68个有效方法
</a></li><li class="dropdown-subitem"><a href="/books/javascript/编写可维护的JavaScript.html" class="nav-link">
  编写可维护的JavaScript
</a></li><li class="dropdown-subitem"><a href="/books/javascript/你不知道的JavaScript上卷.html" class="nav-link">
  你不知道的JavaScript(上卷)
</a></li><li class="dropdown-subitem"><a href="/books/javascript/你不知道的JavaScript中卷.html" class="nav-link">
  你不知道的JavaScript(中卷)
</a></li><li class="dropdown-subitem"><a href="/books/javascript/ES6标准入门.html" class="nav-link">
  ES6标准入门
</a></li><li class="dropdown-subitem"><a href="/books/javascript/深入理解ES6.html" class="nav-link">
  深入理解ES6
</a></li><li class="dropdown-subitem"><a href="/books/javascript/深入理解TypeScript.html" class="nav-link">
  深入理解TypeScript
</a></li><li class="dropdown-subitem"><a href="/books/javascript/深入浅出Vue.js.html" class="nav-link">
  深入浅出Vue.js
</a></li><li class="dropdown-subitem"><a href="/books/javascript/了不起的JavaScript工程师.html" class="nav-link">
  了不起的JavaScript工程师
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript高级程序设计.html" class="nav-link">
  JavaScript高级程序设计
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript面向对象编程指南.html" class="nav-link">
  JavaScript面向对象编程指南
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript面向对象精要.html" class="nav-link">
  JavaScript面向对象精要
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript函数式编程指南.html" class="nav-link">
  JavaScript函数式编程指南
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript忍者秘籍.html" class="nav-link">
  JavaScript忍者秘籍
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript编程精解.html" class="nav-link">
  JavaScript编程精解
</a></li><li class="dropdown-subitem"><a href="/books/javascript/Javascript语言精髓与编程实践.html" class="nav-link">
  JavaScript语言精髓与编程实践
</a></li><li class="dropdown-subitem"><a href="/books/javascript/Javascript设计模式与开发实战.html" class="nav-link">
  JavaScript设计模式与开发实战
</a></li><li class="dropdown-subitem"><a href="/books/javascript/Javascript框架设计.html" class="nav-link">
  JavaScript框架设计
</a></li></ul></li><li class="dropdown-item"><h4>
          Node书籍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/node/Node.js实战.html" class="nav-link">
  Node.js实战
</a></li><li class="dropdown-subitem"><a href="/books/node/Node.js开发实战.html" class="nav-link">
  Node.js开发实战
</a></li><li class="dropdown-subitem"><a href="/books/node/Node.js设计模式.html" class="nav-link">
  Node.js设计模式
</a></li></ul></li><li class="dropdown-item"><h4>
          算法书籍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/algorithmic/学习JavaScript数据结构与算法.html" class="nav-link">
  学习JavaScript数据结构与算法
</a></li></ul></li><li class="dropdown-item"><h4>
          css书籍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/css/css揭秘.html" class="nav-link">
  CSS揭秘
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面经" class="dropdown-title"><span class="title">面经</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/JavaScript.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/interview/CSS.html" class="nav-link">
  CSS
</a></li><li class="dropdown-subitem"><a href="/interview/HTTP.html" class="nav-link">
  HTTP
</a></li></ul></li><li class="dropdown-item"><h4>
          进阶
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/设计模式.html" class="nav-link">
  设计模式
</a></li><li class="dropdown-subitem"><a href="/interview/Node.html" class="nav-link">
  Node
</a></li><li class="dropdown-subitem"><a href="/interview/算法.html" class="nav-link">
  算法
</a></li><li class="dropdown-subitem"><a href="/interview/兼容性.html" class="nav-link">
  兼容性
</a></li><li class="dropdown-subitem"><a href="/interview/缓存.html" class="nav-link">
  缓存
</a></li><li class="dropdown-subitem"><a href="/interview/性能优化.html" class="nav-link">
  性能优化
</a></li></ul></li><li class="dropdown-item"><h4>
          RunTime
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/浏览器.html" class="nav-link">
  浏览器
</a></li><li class="dropdown-subitem"><a href="/interview/Webpack.html" class="nav-link">
  Webpack
</a></li></ul></li><li class="dropdown-item"><h4>
          选型
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/Vue.html" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/interview/React.html" class="nav-link">
  React
</a></li></ul></li><li class="dropdown-item"><h4>
          能力周边
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/Git操作.html" class="nav-link">
  Git操作
</a></li><li class="dropdown-subitem"><a href="/interview/前端监控.html" class="nav-link">
  前端监控
</a></li><li class="dropdown-subitem"><a href="/interview/安全防范.html" class="nav-link">
  安全防范
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/practice/" class="nav-link">
  最佳实践
</a></div><div class="nav-item"><a href="/summary/" class="nav-link">
  只言片语
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>浏览器相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#渲染及优化" class="sidebar-link">渲染及优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_1-地址栏输入url-发生了什么" class="sidebar-link">1. 地址栏输入url 发生了什么</a></li><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_2-js和css顺序的优化和影响" class="sidebar-link">2. js和css顺序的优化和影响</a></li><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_3-重排重绘为什么会影响渲染，如何避免" class="sidebar-link">3. 重排重绘为什么会影响渲染，如何避免?</a></li><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_4-dom树和cssom" class="sidebar-link">4. DOM树和CSSOM</a></li><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_5-css会阻塞dom解析吗？" class="sidebar-link">5. CSS会阻塞dom解析吗？</a></li><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_6-requestidlecallback是干什么用的" class="sidebar-link">6. requestIdleCallback是干什么用的</a></li><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_7-关键渲染路径详述" class="sidebar-link">7. 关键渲染路径详述</a></li><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_8-说说浏览器渲染流程，分层之后在什么时候合成" class="sidebar-link">8. 说说浏览器渲染流程，分层之后在什么时候合成</a></li><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_9-首页白屏原因，如何解决" class="sidebar-link">9. 首页白屏原因，如何解决</a></li><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_10-如何定位和解决问题页面打开后cpu和内存快速增长的问题" class="sidebar-link">10. 如何定位和解决问题页面打开后cpu和内存快速增长的问题</a></li></ul></li><li><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#事件机制" class="sidebar-link">事件机制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_1-注册事件" class="sidebar-link">1. 注册事件</a></li></ul></li><li><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#跨域" class="sidebar-link">跨域</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_1-jsonp-实现跨域" class="sidebar-link">1. JSONP 实现跨域</a></li><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_2-cors-实现跨域" class="sidebar-link">2. CORS 实现跨域</a></li><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_3-document-domain" class="sidebar-link">3. document.domain</a></li><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_4-postmessage-实现跨域" class="sidebar-link">4. postMessage 实现跨域</a></li></ul></li><li><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#浏览器存储" class="sidebar-link">浏览器存储</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_1-cookie" class="sidebar-link">1. Cookie</a></li><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_2-localstorage-和-sessionstorage" class="sidebar-link">2. localStorage 和 sessionStorage</a></li><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_3-缓存机制" class="sidebar-link">3. 缓存机制</a></li><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_4-缓存位置" class="sidebar-link">4. 缓存位置</a></li><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_5-缓存策略" class="sidebar-link">5. 缓存策略</a></li><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_6-service-worker" class="sidebar-link">6. service worker</a></li></ul></li><li><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#v8引擎" class="sidebar-link">V8引擎</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_1-v8-引擎机制" class="sidebar-link">1. V8 引擎机制</a></li><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_2-什么是-gpu-加速，如何使用-gpu-加速，gpu-加速的缺点" class="sidebar-link">2. 什么是 GPU 加速，如何使用 GPU 加速，GPU 加速的缺点</a></li><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_3-v8-如何执行一段-js-代码" class="sidebar-link">3. V8 如何执行一段 JS 代码</a></li><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_4-v8-如何进行垃圾回收" class="sidebar-link">4. V8 如何进行垃圾回收</a></li><li class="sidebar-sub-header"><a href="/interview/%E6%B5%8F%E8%A7%88%E5%99%A8.html#_5-js-相较于-c-等语言为什么慢，v8-做了哪些优化" class="sidebar-link">5. JS 相较于 C++等语言为什么慢，V8 做了哪些优化</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="浏览器相关"><a href="#浏览器相关" class="header-anchor">#</a> 浏览器相关</h1> <p></p><div class="table-of-contents"><ul><li><a href="#渲染及优化">渲染及优化</a><ul><li><a href="#_1-地址栏输入url-发生了什么">1. 地址栏输入url 发生了什么</a></li><li><a href="#_2-js和css顺序的优化和影响">2. js和css顺序的优化和影响</a></li><li><a href="#_3-重排重绘为什么会影响渲染，如何避免">3. 重排重绘为什么会影响渲染，如何避免?</a></li><li><a href="#_4-dom树和cssom">4. DOM树和CSSOM</a></li><li><a href="#_5-css会阻塞dom解析吗？">5. CSS会阻塞dom解析吗？</a></li><li><a href="#_6-requestidlecallback是干什么用的">6. requestIdleCallback是干什么用的</a></li><li><a href="#_7-关键渲染路径详述">7. 关键渲染路径详述</a></li><li><a href="#_8-说说浏览器渲染流程，分层之后在什么时候合成">8. 说说浏览器渲染流程，分层之后在什么时候合成</a></li><li><a href="#_9-首页白屏原因，如何解决">9. 首页白屏原因，如何解决</a></li><li><a href="#_10-如何定位和解决问题页面打开后cpu和内存快速增长的问题">10. 如何定位和解决问题页面打开后cpu和内存快速增长的问题</a></li></ul></li><li><a href="#事件机制">事件机制</a><ul><li><a href="#_1-注册事件">1. 注册事件</a></li></ul></li><li><a href="#跨域">跨域</a><ul><li><a href="#_1-jsonp-实现跨域">1. JSONP 实现跨域</a></li><li><a href="#_2-cors-实现跨域">2. CORS 实现跨域</a></li><li><a href="#_3-document-domain">3. document.domain</a></li><li><a href="#_4-postmessage-实现跨域">4. postMessage 实现跨域</a></li></ul></li><li><a href="#浏览器存储">浏览器存储</a><ul><li><a href="#_1-cookie">1. Cookie</a></li><li><a href="#_2-localstorage-和-sessionstorage">2. localStorage 和 sessionStorage</a></li><li><a href="#_3-缓存机制">3. 缓存机制</a></li><li><a href="#_4-缓存位置">4. 缓存位置</a></li><li><a href="#_5-缓存策略">5. 缓存策略</a></li><li><a href="#_6-service-worker">6. service worker</a></li></ul></li><li><a href="#v8引擎">V8引擎</a><ul><li><a href="#_1-v8-引擎机制">1. V8 引擎机制</a></li><li><a href="#_2-什么是-gpu-加速，如何使用-gpu-加速，gpu-加速的缺点">2. 什么是 GPU 加速，如何使用 GPU 加速，GPU 加速的缺点</a></li><li><a href="#_3-v8-如何执行一段-js-代码">3. V8 如何执行一段 JS 代码</a></li><li><a href="#_4-v8-如何进行垃圾回收">4. V8 如何进行垃圾回收</a></li><li><a href="#_5-js-相较于-c-等语言为什么慢，v8-做了哪些优化">5. JS 相较于 C++等语言为什么慢，V8 做了哪些优化</a></li></ul></li></ul></div><p></p> <h2 id="渲染及优化"><a href="#渲染及优化" class="header-anchor">#</a> 渲染及优化</h2> <h3 id="_1-地址栏输入url-发生了什么"><a href="#_1-地址栏输入url-发生了什么" class="header-anchor">#</a> 1. 地址栏输入url 发生了什么</h3> <ol><li>首先会进行 url 解析，根据 dns 系统进行 ip 查找</li> <li>根据 ip 就可以找到服务器，然后浏览器和服务器会进行 TCP 三次握手建立连接，如果此时是 https 的话，还会建立 TLS 连接以及协商加密算法，这里就会出现另一个需要注意的问题&quot;https 和 http 的区别&quot;（下文会讲到）</li> <li>连接建立之后浏览器开始发送请求获取文件，此时这里还会出现一种情况就是缓存，建立连接后是走缓存还是直接重新获取，需要看后台设置，所以这里会有一个关注的问题&quot;浏览器缓存机制&quot;，缓存我们等会在讲，现在我们就当没有缓存，直接去获取文件</li> <li>首先获取 html 文件，构建 DOM 树，这个过程是边下载边解析，并不是等 html 文件全部下载完了，再去解析 html，这样比较浪费时间，而是下载一点解析一点</li> <li>好了解析到 html 头部时候，又会出现一种问题，css,js 放到哪里了？不同的位置会造成渲染的不同，此时就会出现另一个需要关注的问题&quot;css,js 位置应该放哪里?为什么&quot;，我们先按照正确的位置来说明(css 放头部,js 放尾部)</li> <li>解析到了 html 头部发现有 css 文件，此时下载 css 文件，css 文件也是一边下载一边解析的，构建的是 CSSOM 树，当 DOM 树和 CSSOM 树全部构建完之后，浏览器会把 DOM 树和 CSSOM 树构建成渲染树。</li> <li>样式计算, 上面最后一句&quot;DOM 树和 CSSOM 树会一起构建成渲染树&quot;说的有点笼统，其实还有更细一点的操作，但是一般回答到上面应该就可以了，我们现在接上面说一下构造渲染树的时候还做了哪些事情。第一个就是样式计算，DOM树 和 CSSOM树有了之后，浏览器开始样式计算，主要是为 DOM 树上的节点找到对应的样式</li> <li>构建布局树，样式计算完之后就开始构建布局树。主要是为 DOM 树上的节点找到页面上对应位置以及一些&quot;display:none&quot;元素的隐藏。</li> <li>构建分层树，布局树完成后浏览器还需要建立分层树，主要是为了满足滚动条，z-index，position 这些复杂的分层操作</li> <li>将分层树图块化，利用光栅找到视图窗口下的对应的位图。主要是因为一个页面可能有几屏那么长，一下渲染出来比较浪费，所以浏览器会找到视图窗口对应的图块，将这部分的图块进行渲染</li> <li>最终渲染进程将整个页面渲染出来，在渲染的过程中会还出现重排和重绘，这也是比较爱问的问题&quot;重排重绘为什么会影响渲染，如何避免?&quot;</li></ol> <h3 id="_2-js和css顺序的优化和影响"><a href="#_2-js和css顺序的优化和影响" class="header-anchor">#</a> 2. js和css顺序的优化和影响</h3> <p>渲染树的构成必须要 DOM 树和 CSSOM 树的，所以尽快的构建 CSSOM 树是一个重要的优化手段，如果 css 文件放在尾部，那么整个过程就是一个串行的过程先解析了 dom，再去解析 css。所以 css 我们一般都是放在头部，这样 DOM 树和 CSSOM 树的构建是同步进行的</p> <p>再来看 js，因为 js 的运行会阻止 DOM 树的渲染的，所以一旦我们的 js 放在了头部，而且也没有异步加载这些操作的话，js 一旦一直在运行，DOM 树就一直构建不出来，那么页面就会一直出现白屏界面，所以一般我们会把 js 文件放在尾部。当然放到尾部也不是就没有问题了，只是问题相对较小，放到尾部的 js 文件如果过大，运行时间长，代码加载时，就会有大量耗时的操作造成页面不可点击，这就是另一个问题，但这肯定比白屏要好，白屏是什么页面都没有，这种是页面有了只是操作不流畅。</p> <p>js 脚本放在尾部还有一个原因，有时候 js 代码会有操作 dom 节点的情况，如果放在头部执行，DOM树还没有构建，拿不到 DOM 节点但是你又去使用就会出现报错情况，错误没处理好的话页面会直接崩掉</p> <h3 id="_3-重排重绘为什么会影响渲染，如何避免"><a href="#_3-重排重绘为什么会影响渲染，如何避免" class="header-anchor">#</a> 3. 重排重绘为什么会影响渲染，如何避免?</h3> <h4 id="重绘"><a href="#重绘" class="header-anchor">#</a> 重绘</h4> <p>重绘指的是不影响界面布局的操作，比如更改颜色，那么根据上面的渲染讲解我们知道，重绘之后我们只需要在重复进行一下样式计算，就可以直接渲染了，对浏览器渲染的影响相对较小</p> <h4 id="重排"><a href="#重排" class="header-anchor">#</a> 重排</h4> <p>重排指的是影响界面布局的操作，比如改变宽高，隐藏节点等。对于重排就不是一个重新计算样式那么简单了，因为改变了布局，根据上面的渲染流程来看涉及到的阶段有样式计算，布局树重新生成，分层树重新生成，所以重排对浏览器的渲染影响是比较高的</p> <h4 id="避免方法"><a href="#避免方法" class="header-anchor">#</a> 避免方法</h4> <ol><li>js 尽量减少对样式的操作，能用 css 完成的就用 css</li> <li>对 dom 操作尽量少，能用 createDocumentFragment 的地方尽量用</li> <li>如果必须要用 js 操作样式，能合并尽量合并不要分多次操作</li> <li>resize 事件 最好加上防抖，能尽量少触发就少触发</li> <li>加载图片的时候，提前写好宽高</li></ol> <h3 id="_4-dom树和cssom"><a href="#_4-dom树和cssom" class="header-anchor">#</a> 4. DOM树和CSSOM</h3> <h4 id="dom-树"><a href="#dom-树" class="header-anchor">#</a> DOM 树</h4> <p>浏览器在接受到服务器传递回来的字节流数据后，会经过转换，把<code>0</code>和<code>1</code>的字节流数据转换成 DOM 树结构，会经历如下图所示的过程：</p> <p><img src="data:image/png;base64,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" alt="DOM树渲染结构过程">
最终可能回渲染成如下的 DOM 树结构：</p> <p><img src="data:image/png;base64,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" alt="DOM树结构"></p> <h4 id="cssdom"><a href="#cssdom" class="header-anchor">#</a> CSSDOM</h4> <p>与 DOM 树渲染过程类似，CSSOM 树渲染过程会经历如下图所示的过程：</p> <p><img src="data:image/png;base64,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" alt="CSSOM渲染过程"></p> <h4 id="dom-和-cssom-树合并"><a href="#dom-和-cssom-树合并" class="header-anchor">#</a> DOM 和 CSSOM 树合并</h4> <p>当 DOM 树和 CSSOM 树渲染完毕后，就会合并在一起形成一个渲染树，渲染树并不是简单的将 DOM 树和 CSSOM 树简单的合并在一起，渲染树只包含需要显示的 DOM 节点。渲染树合并完毕后，然后会根据渲染树进行布局，随后调用 GPU 进行绘制，显示在屏幕上。</p> <p><img src="/assets/img/11.a6ed6452.png" alt="渲染树"></p> <h3 id="_5-css会阻塞dom解析吗？"><a href="#_5-css会阻塞dom解析吗？" class="header-anchor">#</a> 5. CSS会阻塞dom解析吗？</h3> <h3 id="_6-requestidlecallback是干什么用的"><a href="#_6-requestidlecallback是干什么用的" class="header-anchor">#</a> 6. requestIdleCallback是干什么用的</h3> <h3 id="_7-关键渲染路径详述"><a href="#_7-关键渲染路径详述" class="header-anchor">#</a> 7. 关键渲染路径详述</h3> <h3 id="_8-说说浏览器渲染流程，分层之后在什么时候合成"><a href="#_8-说说浏览器渲染流程，分层之后在什么时候合成" class="header-anchor">#</a> 8. 说说浏览器渲染流程，分层之后在什么时候合成</h3> <h3 id="_9-首页白屏原因，如何解决"><a href="#_9-首页白屏原因，如何解决" class="header-anchor">#</a> 9. 首页白屏原因，如何解决</h3> <h3 id="_10-如何定位和解决问题页面打开后cpu和内存快速增长的问题"><a href="#_10-如何定位和解决问题页面打开后cpu和内存快速增长的问题" class="header-anchor">#</a> 10. 如何定位和解决问题页面打开后cpu和内存快速增长的问题</h3> <h2 id="事件机制"><a href="#事件机制" class="header-anchor">#</a> 事件机制</h2> <h3 id="_1-注册事件"><a href="#_1-注册事件" class="header-anchor">#</a> 1. 注册事件</h3> <p>注册事件，我们一般使用<code>addEventListener(name, callback, boolean)</code>函数，该函数支持三个参数，参数说明如下：</p> <ol><li><code>name</code>：代表待注册事件的名字，例如：<code>click</code>或者<code>mouseover</code></li> <li><code>callback</code>：代表注册事件的回调函数</li> <li><code>boolean</code>：一个<code>boolean</code>值，为<code>true</code>代表事件捕获时触发，为<code>false</code>时代表事件冒泡时触发。参数缺省时默认为<code>false</code></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 一个注册事件的案例</span>
<span class="token comment">// 点击DOM元素时。顺序打印出：捕获时触发 冒泡时触发</span>
<span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'box'</span><span class="token punctuation">)</span>
box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
  <span class="token string">'click'</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'捕获时触发'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token boolean">true</span>
<span class="token punctuation">)</span>
box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
  <span class="token string">'click'</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'冒泡时触发'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token boolean">false</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>在浏览器中，事件的触发顺序一般而言依据：<strong>捕获</strong>-&gt;<strong>目标阶段</strong>-&gt;<strong>冒泡</strong>三个顺序。但事件的触发顺序并不总是按以上顺序执行，当我们给同一个 DOM 元素同时注册捕获和冒泡事件时，事件的触发顺序是按你注册事件的顺序来执行的。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 点击DOM元素时。顺序打印出：冒泡时触发 捕获时触发</span>
<span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'box'</span><span class="token punctuation">)</span>
box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
  <span class="token string">'click'</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'冒泡时触发'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token boolean">false</span>
<span class="token punctuation">)</span>
box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
  <span class="token string">'click'</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'捕获时触发'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token boolean">true</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>阻止事件冒泡：</strong> <code>stopPropagation()</code>和<code>stopImmediaPropagation()</code>方法都能阻止事件的向上冒泡，但这两者是有区别的：<code>stopImmediaPropagation()</code>还能阻止目标执行别的注册事件。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 阻止事件冒泡</span>
<span class="token comment">// 1. 当不阻止冒泡时，window的click会触发</span>
<span class="token comment">// 2. 当使用stopPropagation()时，window的click不会被触发</span>
<span class="token comment">// 3. 当使用stopImmediatePropagation()时，DOM的捕获事件不会触发，window的click不会触发</span>
<span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'box'</span><span class="token punctuation">)</span>
box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
  <span class="token string">'click'</span><span class="token punctuation">,</span>
  <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'冒泡时触发'</span><span class="token punctuation">)</span>
    <span class="token comment">// event.stopPropagation();</span>
    <span class="token comment">// event.stopImmediatePropagation();</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token boolean">false</span>
<span class="token punctuation">)</span>
box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
  <span class="token string">'click'</span><span class="token punctuation">,</span>
  <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'捕获时触发'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token boolean">true</span>
<span class="token punctuation">)</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'子元素点击事件向上冒泡时触发'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="跨域"><a href="#跨域" class="header-anchor">#</a> 跨域</h2> <div class="custom-block tip"><p class="custom-block-title">同源策略</p> <p>同源策略是指，一个源的客户端脚本在没有明确授权的情况下，不能访问另一个源的客户端脚本。当一个 URL 和另一个 URL，只要<strong>协议</strong>、<strong>域名</strong>或者<strong>端口号</strong>有一个不同，则就会出现跨域。
解决跨域常用方法有：</p> <ol><li>JSONP</li> <li>CORS</li> <li>document.domain</li> <li>postMessage</li></ol></div> <h3 id="_1-jsonp-实现跨域"><a href="#_1-jsonp-实现跨域" class="header-anchor">#</a> 1. JSONP 实现跨域</h3> <div class="custom-block tip"><p class="custom-block-title">原理</p> <p>JSONP 实现跨域的原理是利用<code>script</code>标签没有跨域限制，通过<code>src</code>指向一个<code>ajax</code>的 URL，最后跟一个回调函数<code>callback</code></p></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 一个JSONP跨域的案例</span>
<span class="token punctuation">;</span><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;http://www.baidu.com/getUserInfo?name=张三&amp;callback=jsonp&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token keyword">function</span> <span class="token function">jsonp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'JSONP实现跨域'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 实现自己的JSONP</span>
<span class="token keyword">var</span> <span class="token function-variable function">jsonp</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> data<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> cbName <span class="token operator">=</span> <span class="token string">'callback_'</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> queryString <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> <span class="token string">'?'</span> <span class="token operator">:</span> <span class="token string">'&amp;'</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token keyword">in</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    queryString <span class="token operator">+=</span> k <span class="token operator">+</span> <span class="token string">'='</span> <span class="token operator">+</span> data<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'&amp;'</span>
  <span class="token punctuation">}</span>
  queryString <span class="token operator">+=</span> <span class="token string">'callback='</span> <span class="token operator">+</span> cbName
  <span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span>
  script<span class="token punctuation">.</span>src <span class="token operator">=</span> url <span class="token operator">+</span> queryString
  window<span class="token punctuation">[</span>cbName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">callback</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 实测</span>
<span class="token function">jsonp</span><span class="token punctuation">(</span><span class="token string">'http://api.douban.com/v2/movie/in_theaters'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> count<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="_2-cors-实现跨域"><a href="#_2-cors-实现跨域" class="header-anchor">#</a> 2. CORS 实现跨域</h3> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>CORS：<code>CORS</code>需要浏览器和后端同时配合才能生效，后端通过设置<code>Access-Control-Allow-Origin</code>就可以开启哪些域名可以使用<code>CORS</code>跨域，在进行<code>CORS</code>跨域请求时，会出现简单请求或者复杂请求。</p></div> <p><strong>CORS 简单请求</strong>：当请求方式为<code>get</code>，<code>head</code>、<code>post</code>之一并且<code>Content-Type</code>为<code>text/plain</code>、<code>multipart/form-data</code>、<code>application/x-www-form-urlencoded</code>三种之一时，就是简单请求。</p> <p><strong>CORS 复杂请求：</strong> 当不符合简单请求时，就是复杂请求，对于复杂请求来说，首先会发送一个<code>option</code>请求，用于知道服务器是否允许跨域请求。</p> <h3 id="_3-document-domain"><a href="#_3-document-domain" class="header-anchor">#</a> 3. document.domain</h3> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>document.domain 只能用于<strong>二级域名相同</strong>的情况下</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 域名a.test.com 和域名b.test.com</span>
<span class="token comment">// 设置如下代码后，二级域名为test.com的网站都能实现跨域</span>
document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">'test.com'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div> <h3 id="_4-postmessage-实现跨域"><a href="#_4-postmessage-实现跨域" class="header-anchor">#</a> 4. postMessage 实现跨域</h3> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><code>postMessage</code>一般用于获取嵌套在页面中的第三方页面的数据，一个页面发送请求，另外一个页面判断来源并接受请求。</p></div> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://www.baidu.com<span class="token punctuation">&quot;</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 父页面发送请求</span>
window<span class="token punctuation">.</span>frames<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">'getcolor'</span><span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span>
<span class="token comment">// 父页面接受请求</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
  <span class="token string">'message'</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token comment">// 打印red</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token boolean">false</span>
<span class="token punctuation">)</span>

<span class="token comment">// 子页面发送请求</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
  <span class="token string">'message'</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>parent<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token boolean">false</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="浏览器存储"><a href="#浏览器存储" class="header-anchor">#</a> 浏览器存储</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>浏览器存储有如下四种方法，每种方法都有不同支持，具体特性请参考表格</p> <ol><li>cookie</li> <li>localStorage</li> <li>sessionStorage</li> <li>indexDB</li></ol></div> <p><img src="/assets/img/4.d4f3ac84.png" alt="浏览器存储四种方法"></p> <h3 id="_1-cookie"><a href="#_1-cookie" class="header-anchor">#</a> 1. Cookie</h3> <p><strong>设置 cookie</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token parameter">cname<span class="token punctuation">,</span> cvalue<span class="token punctuation">,</span> exdays</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  d<span class="token punctuation">.</span><span class="token function">setTime</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> exdays <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> expires <span class="token operator">=</span> <span class="token string">'expires='</span> <span class="token operator">+</span> d<span class="token punctuation">.</span><span class="token function">toUTCString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> cname <span class="token operator">+</span> <span class="token string">'='</span> <span class="token operator">+</span> cvalue <span class="token operator">+</span> <span class="token string">'; '</span> <span class="token operator">+</span> expires
<span class="token punctuation">}</span>
<span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'why'</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>获取 cookie</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> arr<span class="token punctuation">,</span>
    reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'(^| )'</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'=([^;]*)(;|$)'</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>arr <span class="token operator">=</span> document<span class="token punctuation">.</span>cookie<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">unescape</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>
<span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'why'</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 打印why</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_2-localstorage-和-sessionstorage"><a href="#_2-localstorage-和-sessionstorage" class="header-anchor">#</a> 2. localStorage 和 sessionStorage</h3> <p><strong>设置 localStorage 和 sessionStorage</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'why'</span><span class="token punctuation">)</span>
sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>获取 localStorage 和 sessionStorage</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'why'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 打印why</span>
sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 打印23</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_3-缓存机制"><a href="#_3-缓存机制" class="header-anchor">#</a> 3. 缓存机制</h3> <p>一个浏览器数据请求会经历三个步骤：<strong>发起网络请求</strong>、<strong>后端处理</strong>、<strong>浏览器响应</strong>。浏览器缓存可以让我们在第一步和第三步中优化性能。</p> <h3 id="_4-缓存位置"><a href="#_4-缓存位置" class="header-anchor">#</a> 4. 缓存位置</h3> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>缓存在不同的位置，它的优先级是不同的，缓存按优先级可以划分为：</p> <ol><li>Service Worker 可以让我们自由控制应该缓存哪些文件(PWA 实现的重要手段)</li> <li>Memory Cache(内存缓存)内存缓存读取效率高，但一旦我们关闭了浏览器，内存缓存也就没有了。</li> <li>Disk Cache(硬盘缓存)与内存缓存相比，硬盘缓存具有量大以及时效的两大优点。</li> <li>Push Cache 当前三者缓存都没有命中时，才会读取 Push Cache 中的缓存信息，但此种方式的缓存信息时间较短，只在会话<code>Session</code>中存在，一旦会话结束也就释放了。</li> <li>当以上缓存都没有命中时，才会发起请求。</li></ol></div> <h3 id="_5-缓存策略"><a href="#_5-缓存策略" class="header-anchor">#</a> 5. 缓存策略</h3> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>通常来说，浏览器缓存策略分为两种：<strong>强缓存</strong>和<strong>协商缓存</strong>，缓存策略可通过 HTTP Header 来实现。</p></div> <ul><li><strong>强缓存：</strong> 强制缓存就是文件直接从缓存中获取 ，强缓存可以通过设置<code>Expires</code>和<code>Cache-Control</code>来实现，强缓存表示在缓存期间，不需要请求，<code>State Code</code>为 200，<code>Cache-Control</code>可以组合使用多个指令，常见指令如下所示：</li></ul> <p><img src="/assets/img/7.0456b875.png" alt="缓存指令">
HTTP1.1 利用的就是 max-age:600 来强制缓存，因为是相对时间，所以不会出现 Expires 问题</p> <ul><li><p><strong>协商缓存：</strong> 协商缓存表示如果缓存过期了，那么就需要重新发起请求验证资源是否有更新，可通过设置 HTTP Header 的<code>Last-Modified/if-Modified-Since,Etag/if-None-Match</code>来实现，<strong>如果资源没有改变，<code>State Code</code>为 304</strong></p> <p>由于<code>Last-Modified</code> 的时间粒度是秒，有的文件在 1s 内可能被改动多次。这种方式在这种特殊情况下还是会失效，所以HTTP1.1又引入了 <code>Etag</code> 字段。这个字段是根据文件内容生成一个标记符比如&quot;W/&quot;5f9583bd-10a8&quot;&quot;，然后再和<code>If-None-Match</code> 进行对比就能更准确的知道文件有没有被改动过</p> <ul><li>浏览器第一次发送请求获取文件缓存下来，服务器响应头返回一个<code>if-Modified-Since</code>，记录被改动的时间</li> <li>浏览器第二次发送请求的时候会带上一个<code>Last-Modified</code>请求头，时间就是<code>if-Modified-Since</code>返回的值。然后服务器拿到这个字段和自己内部设置的时间进行对比，时间相同表示没有修改，就直接返回** 304 **从缓存里面获取文件</li></ul></li></ul> <h3 id="_6-service-worker"><a href="#_6-service-worker" class="header-anchor">#</a> 6. service worker</h3> <p><code>Service Worker</code>是运行在浏览器背后的独立进程，一般可以用来实现缓存功能，实现<code>Service Worker</code>的话，必须使用 https 传输协议，一个实现<code>Service Worker</code>缓存<code>js</code>文件可以如下写</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'serviceWorker'</span> <span class="token keyword">in</span> navigator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  navigator<span class="token punctuation">.</span>serviceWorker
    <span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'./1.js'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">success</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'注册成功'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'注册失败'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="v8引擎"><a href="#v8引擎" class="header-anchor">#</a> V8引擎</h2> <h3 id="_1-v8-引擎机制"><a href="#_1-v8-引擎机制" class="header-anchor">#</a> 1. V8 引擎机制</h3> <h3 id="_2-什么是-gpu-加速，如何使用-gpu-加速，gpu-加速的缺点"><a href="#_2-什么是-gpu-加速，如何使用-gpu-加速，gpu-加速的缺点" class="header-anchor">#</a> 2. 什么是 GPU 加速，如何使用 GPU 加速，GPU 加速的缺点</h3> <h3 id="_3-v8-如何执行一段-js-代码"><a href="#_3-v8-如何执行一段-js-代码" class="header-anchor">#</a> 3. V8 如何执行一段 JS 代码</h3> <h3 id="_4-v8-如何进行垃圾回收"><a href="#_4-v8-如何进行垃圾回收" class="header-anchor">#</a> 4. V8 如何进行垃圾回收</h3> <h3 id="_5-js-相较于-c-等语言为什么慢，v8-做了哪些优化"><a href="#_5-js-相较于-c-等语言为什么慢，v8-做了哪些优化" class="header-anchor">#</a> 5. JS 相较于 C++等语言为什么慢，V8 做了哪些优化</h3></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最近更新时间:</span> <span class="time">11/7/2020, 10:20:49 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ad74b50b.js" defer></script><script src="/assets/js/2.2054c3ab.js" defer></script><script src="/assets/js/5.a116802f.js" defer></script>
  </body>
</html>
