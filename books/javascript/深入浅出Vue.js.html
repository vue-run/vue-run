<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>深入浅出 Vue.js | vue-run</title>
    <meta name="description" content="打造一个舒适的前端工作流">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico">
  <link rel="icon" href="/logo.png">
    
    <link rel="preload" href="/assets/css/0.styles.31620747.css" as="style"><link rel="preload" href="/assets/js/app.ad74b50b.js" as="script"><link rel="preload" href="/assets/js/2.2054c3ab.js" as="script"><link rel="preload" href="/assets/js/9.b3d60b51.js" as="script"><link rel="prefetch" href="/assets/js/10.2fcb329f.js"><link rel="prefetch" href="/assets/js/11.aa231dd9.js"><link rel="prefetch" href="/assets/js/12.9f1fdf0e.js"><link rel="prefetch" href="/assets/js/13.d119215d.js"><link rel="prefetch" href="/assets/js/14.de9dfb60.js"><link rel="prefetch" href="/assets/js/15.15c1321a.js"><link rel="prefetch" href="/assets/js/16.d047a64e.js"><link rel="prefetch" href="/assets/js/17.fa9b699d.js"><link rel="prefetch" href="/assets/js/18.d4110752.js"><link rel="prefetch" href="/assets/js/19.e47e31ff.js"><link rel="prefetch" href="/assets/js/20.c21ff74b.js"><link rel="prefetch" href="/assets/js/21.403ef4cb.js"><link rel="prefetch" href="/assets/js/22.afbc471c.js"><link rel="prefetch" href="/assets/js/23.8fc68b7a.js"><link rel="prefetch" href="/assets/js/24.aaa61bbc.js"><link rel="prefetch" href="/assets/js/25.1546e7a8.js"><link rel="prefetch" href="/assets/js/26.d61179ba.js"><link rel="prefetch" href="/assets/js/27.357b1395.js"><link rel="prefetch" href="/assets/js/28.cc219ae3.js"><link rel="prefetch" href="/assets/js/29.b6955861.js"><link rel="prefetch" href="/assets/js/3.a4e279d6.js"><link rel="prefetch" href="/assets/js/30.043e4801.js"><link rel="prefetch" href="/assets/js/31.c1b8cf35.js"><link rel="prefetch" href="/assets/js/32.42958bd6.js"><link rel="prefetch" href="/assets/js/33.e126e05f.js"><link rel="prefetch" href="/assets/js/34.6864e25a.js"><link rel="prefetch" href="/assets/js/35.aeeec13a.js"><link rel="prefetch" href="/assets/js/36.a3946cf6.js"><link rel="prefetch" href="/assets/js/37.b4478e59.js"><link rel="prefetch" href="/assets/js/38.574146f4.js"><link rel="prefetch" href="/assets/js/39.3cd37280.js"><link rel="prefetch" href="/assets/js/4.c0861a31.js"><link rel="prefetch" href="/assets/js/40.c5a34540.js"><link rel="prefetch" href="/assets/js/41.7f323d85.js"><link rel="prefetch" href="/assets/js/42.d31181fa.js"><link rel="prefetch" href="/assets/js/43.6e0bf2e6.js"><link rel="prefetch" href="/assets/js/44.68a308ee.js"><link rel="prefetch" href="/assets/js/45.2ef9d7c8.js"><link rel="prefetch" href="/assets/js/46.5441fd11.js"><link rel="prefetch" href="/assets/js/47.fab1189a.js"><link rel="prefetch" href="/assets/js/48.ff364c5c.js"><link rel="prefetch" href="/assets/js/49.25efaf4d.js"><link rel="prefetch" href="/assets/js/5.a116802f.js"><link rel="prefetch" href="/assets/js/50.ec8ad626.js"><link rel="prefetch" href="/assets/js/51.d1f171f3.js"><link rel="prefetch" href="/assets/js/52.100e2510.js"><link rel="prefetch" href="/assets/js/53.f7e297ba.js"><link rel="prefetch" href="/assets/js/54.d0716ad6.js"><link rel="prefetch" href="/assets/js/55.6984554f.js"><link rel="prefetch" href="/assets/js/56.c9d4b98a.js"><link rel="prefetch" href="/assets/js/57.1736acb1.js"><link rel="prefetch" href="/assets/js/58.1e194851.js"><link rel="prefetch" href="/assets/js/59.cc8df9af.js"><link rel="prefetch" href="/assets/js/6.f95efe2a.js"><link rel="prefetch" href="/assets/js/60.6a846f1a.js"><link rel="prefetch" href="/assets/js/61.e0a08076.js"><link rel="prefetch" href="/assets/js/62.5b3128e3.js"><link rel="prefetch" href="/assets/js/63.d9c80c61.js"><link rel="prefetch" href="/assets/js/64.686b1cb0.js"><link rel="prefetch" href="/assets/js/65.ce207947.js"><link rel="prefetch" href="/assets/js/66.cea7a33b.js"><link rel="prefetch" href="/assets/js/67.6bf9f16e.js"><link rel="prefetch" href="/assets/js/68.c3755fba.js"><link rel="prefetch" href="/assets/js/69.1987d1f9.js"><link rel="prefetch" href="/assets/js/7.60e754f0.js"><link rel="prefetch" href="/assets/js/70.55bd8888.js"><link rel="prefetch" href="/assets/js/71.3f35de42.js"><link rel="prefetch" href="/assets/js/72.249f0def.js"><link rel="prefetch" href="/assets/js/73.e19ee3e7.js"><link rel="prefetch" href="/assets/js/8.d7e7dd67.js">
    <link rel="stylesheet" href="/assets/css/0.styles.31620747.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">vue-run</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/config/" class="nav-link">
  推荐配置
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="读书笔记" class="dropdown-title"><span class="title">读书笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Javascript书籍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/javascript/编写高质量JavaScript的68个有效方法.html" class="nav-link">
  编写高质量JavaScript的68个有效方法
</a></li><li class="dropdown-subitem"><a href="/books/javascript/编写可维护的JavaScript.html" class="nav-link">
  编写可维护的JavaScript
</a></li><li class="dropdown-subitem"><a href="/books/javascript/你不知道的JavaScript上卷.html" class="nav-link">
  你不知道的JavaScript(上卷)
</a></li><li class="dropdown-subitem"><a href="/books/javascript/你不知道的JavaScript中卷.html" class="nav-link">
  你不知道的JavaScript(中卷)
</a></li><li class="dropdown-subitem"><a href="/books/javascript/ES6标准入门.html" class="nav-link">
  ES6标准入门
</a></li><li class="dropdown-subitem"><a href="/books/javascript/深入理解ES6.html" class="nav-link">
  深入理解ES6
</a></li><li class="dropdown-subitem"><a href="/books/javascript/深入理解TypeScript.html" class="nav-link">
  深入理解TypeScript
</a></li><li class="dropdown-subitem"><a href="/books/javascript/深入浅出Vue.js.html" class="nav-link">
  深入浅出Vue.js
</a></li><li class="dropdown-subitem"><a href="/books/javascript/了不起的JavaScript工程师.html" class="nav-link">
  了不起的JavaScript工程师
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript高级程序设计.html" class="nav-link">
  JavaScript高级程序设计
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript面向对象编程指南.html" class="nav-link">
  JavaScript面向对象编程指南
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript面向对象精要.html" class="nav-link">
  JavaScript面向对象精要
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript函数式编程指南.html" class="nav-link">
  JavaScript函数式编程指南
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript忍者秘籍.html" class="nav-link">
  JavaScript忍者秘籍
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript编程精解.html" class="nav-link">
  JavaScript编程精解
</a></li><li class="dropdown-subitem"><a href="/books/javascript/Javascript语言精髓与编程实践.html" class="nav-link">
  JavaScript语言精髓与编程实践
</a></li><li class="dropdown-subitem"><a href="/books/javascript/Javascript设计模式与开发实战.html" class="nav-link">
  JavaScript设计模式与开发实战
</a></li><li class="dropdown-subitem"><a href="/books/javascript/Javascript框架设计.html" class="nav-link">
  JavaScript框架设计
</a></li></ul></li><li class="dropdown-item"><h4>
          Node书籍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/node/Node.js实战.html" class="nav-link">
  Node.js实战
</a></li><li class="dropdown-subitem"><a href="/books/node/Node.js开发实战.html" class="nav-link">
  Node.js开发实战
</a></li><li class="dropdown-subitem"><a href="/books/node/Node.js设计模式.html" class="nav-link">
  Node.js设计模式
</a></li></ul></li><li class="dropdown-item"><h4>
          算法书籍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/algorithmic/学习JavaScript数据结构与算法.html" class="nav-link">
  学习JavaScript数据结构与算法
</a></li></ul></li><li class="dropdown-item"><h4>
          css书籍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/css/css揭秘.html" class="nav-link">
  CSS揭秘
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面经" class="dropdown-title"><span class="title">面经</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/JavaScript.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/interview/CSS.html" class="nav-link">
  CSS
</a></li><li class="dropdown-subitem"><a href="/interview/HTTP.html" class="nav-link">
  HTTP
</a></li></ul></li><li class="dropdown-item"><h4>
          进阶
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/设计模式.html" class="nav-link">
  设计模式
</a></li><li class="dropdown-subitem"><a href="/interview/Node.html" class="nav-link">
  Node
</a></li><li class="dropdown-subitem"><a href="/interview/算法.html" class="nav-link">
  算法
</a></li><li class="dropdown-subitem"><a href="/interview/兼容性.html" class="nav-link">
  兼容性
</a></li><li class="dropdown-subitem"><a href="/interview/缓存.html" class="nav-link">
  缓存
</a></li><li class="dropdown-subitem"><a href="/interview/性能优化.html" class="nav-link">
  性能优化
</a></li></ul></li><li class="dropdown-item"><h4>
          RunTime
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/浏览器.html" class="nav-link">
  浏览器
</a></li><li class="dropdown-subitem"><a href="/interview/Webpack.html" class="nav-link">
  Webpack
</a></li></ul></li><li class="dropdown-item"><h4>
          选型
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/Vue.html" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/interview/React.html" class="nav-link">
  React
</a></li></ul></li><li class="dropdown-item"><h4>
          能力周边
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/Git操作.html" class="nav-link">
  Git操作
</a></li><li class="dropdown-subitem"><a href="/interview/前端监控.html" class="nav-link">
  前端监控
</a></li><li class="dropdown-subitem"><a href="/interview/安全防范.html" class="nav-link">
  安全防范
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/practice/" class="nav-link">
  最佳实践
</a></div><div class="nav-item"><a href="/summary/" class="nav-link">
  只言片语
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/config/" class="nav-link">
  推荐配置
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="读书笔记" class="dropdown-title"><span class="title">读书笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Javascript书籍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/javascript/编写高质量JavaScript的68个有效方法.html" class="nav-link">
  编写高质量JavaScript的68个有效方法
</a></li><li class="dropdown-subitem"><a href="/books/javascript/编写可维护的JavaScript.html" class="nav-link">
  编写可维护的JavaScript
</a></li><li class="dropdown-subitem"><a href="/books/javascript/你不知道的JavaScript上卷.html" class="nav-link">
  你不知道的JavaScript(上卷)
</a></li><li class="dropdown-subitem"><a href="/books/javascript/你不知道的JavaScript中卷.html" class="nav-link">
  你不知道的JavaScript(中卷)
</a></li><li class="dropdown-subitem"><a href="/books/javascript/ES6标准入门.html" class="nav-link">
  ES6标准入门
</a></li><li class="dropdown-subitem"><a href="/books/javascript/深入理解ES6.html" class="nav-link">
  深入理解ES6
</a></li><li class="dropdown-subitem"><a href="/books/javascript/深入理解TypeScript.html" class="nav-link">
  深入理解TypeScript
</a></li><li class="dropdown-subitem"><a href="/books/javascript/深入浅出Vue.js.html" class="nav-link">
  深入浅出Vue.js
</a></li><li class="dropdown-subitem"><a href="/books/javascript/了不起的JavaScript工程师.html" class="nav-link">
  了不起的JavaScript工程师
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript高级程序设计.html" class="nav-link">
  JavaScript高级程序设计
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript面向对象编程指南.html" class="nav-link">
  JavaScript面向对象编程指南
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript面向对象精要.html" class="nav-link">
  JavaScript面向对象精要
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript函数式编程指南.html" class="nav-link">
  JavaScript函数式编程指南
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript忍者秘籍.html" class="nav-link">
  JavaScript忍者秘籍
</a></li><li class="dropdown-subitem"><a href="/books/javascript/JavaScript编程精解.html" class="nav-link">
  JavaScript编程精解
</a></li><li class="dropdown-subitem"><a href="/books/javascript/Javascript语言精髓与编程实践.html" class="nav-link">
  JavaScript语言精髓与编程实践
</a></li><li class="dropdown-subitem"><a href="/books/javascript/Javascript设计模式与开发实战.html" class="nav-link">
  JavaScript设计模式与开发实战
</a></li><li class="dropdown-subitem"><a href="/books/javascript/Javascript框架设计.html" class="nav-link">
  JavaScript框架设计
</a></li></ul></li><li class="dropdown-item"><h4>
          Node书籍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/node/Node.js实战.html" class="nav-link">
  Node.js实战
</a></li><li class="dropdown-subitem"><a href="/books/node/Node.js开发实战.html" class="nav-link">
  Node.js开发实战
</a></li><li class="dropdown-subitem"><a href="/books/node/Node.js设计模式.html" class="nav-link">
  Node.js设计模式
</a></li></ul></li><li class="dropdown-item"><h4>
          算法书籍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/algorithmic/学习JavaScript数据结构与算法.html" class="nav-link">
  学习JavaScript数据结构与算法
</a></li></ul></li><li class="dropdown-item"><h4>
          css书籍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/css/css揭秘.html" class="nav-link">
  CSS揭秘
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面经" class="dropdown-title"><span class="title">面经</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/JavaScript.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/interview/CSS.html" class="nav-link">
  CSS
</a></li><li class="dropdown-subitem"><a href="/interview/HTTP.html" class="nav-link">
  HTTP
</a></li></ul></li><li class="dropdown-item"><h4>
          进阶
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/设计模式.html" class="nav-link">
  设计模式
</a></li><li class="dropdown-subitem"><a href="/interview/Node.html" class="nav-link">
  Node
</a></li><li class="dropdown-subitem"><a href="/interview/算法.html" class="nav-link">
  算法
</a></li><li class="dropdown-subitem"><a href="/interview/兼容性.html" class="nav-link">
  兼容性
</a></li><li class="dropdown-subitem"><a href="/interview/缓存.html" class="nav-link">
  缓存
</a></li><li class="dropdown-subitem"><a href="/interview/性能优化.html" class="nav-link">
  性能优化
</a></li></ul></li><li class="dropdown-item"><h4>
          RunTime
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/浏览器.html" class="nav-link">
  浏览器
</a></li><li class="dropdown-subitem"><a href="/interview/Webpack.html" class="nav-link">
  Webpack
</a></li></ul></li><li class="dropdown-item"><h4>
          选型
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/Vue.html" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/interview/React.html" class="nav-link">
  React
</a></li></ul></li><li class="dropdown-item"><h4>
          能力周边
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/Git操作.html" class="nav-link">
  Git操作
</a></li><li class="dropdown-subitem"><a href="/interview/前端监控.html" class="nav-link">
  前端监控
</a></li><li class="dropdown-subitem"><a href="/interview/安全防范.html" class="nav-link">
  安全防范
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/practice/" class="nav-link">
  最佳实践
</a></div><div class="nav-item"><a href="/summary/" class="nav-link">
  只言片语
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>深入浅出 Vue.js</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#vue-js-简史" class="sidebar-link">Vue.js 简史</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#什么是-vue-js" class="sidebar-link">什么是 Vue.js</a></li><li class="sidebar-sub-header"><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#vue-js-简史-2" class="sidebar-link">Vue.js 简史</a></li></ul></li><li><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#变化侦测" class="sidebar-link">变化侦测</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#object-的变化侦测" class="sidebar-link">Object 的变化侦测</a></li><li class="sidebar-sub-header"><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#array-的变化侦测" class="sidebar-link">Array 的变化侦测</a></li><li class="sidebar-sub-header"><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#变化侦测相关-api-实现原理" class="sidebar-link">变化侦测相关 API 实现原理</a></li></ul></li><li><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#虚拟-dom" class="sidebar-link">虚拟 DOM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#虚拟-dom-简介" class="sidebar-link">虚拟 DOM 简介</a></li><li class="sidebar-sub-header"><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#vnode" class="sidebar-link">VNode</a></li><li class="sidebar-sub-header"><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#patch" class="sidebar-link">patch</a></li></ul></li><li><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#模版编译原理" class="sidebar-link">模版编译原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#模版编译" class="sidebar-link">模版编译</a></li><li class="sidebar-sub-header"><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#解析器" class="sidebar-link">解析器</a></li><li class="sidebar-sub-header"><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#优化器" class="sidebar-link">优化器</a></li><li class="sidebar-sub-header"><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#代码生成器" class="sidebar-link">代码生成器</a></li></ul></li><li><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#整体流程" class="sidebar-link">整体流程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#架构设计与项目结构" class="sidebar-link">架构设计与项目结构</a></li><li class="sidebar-sub-header"><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#实例方法与全局-api-的实现原理" class="sidebar-link">实例方法与全局 API 的实现原理</a></li><li class="sidebar-sub-header"><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#生命周期" class="sidebar-link">生命周期</a></li><li class="sidebar-sub-header"><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#指令的奥秘" class="sidebar-link">指令的奥秘</a></li><li class="sidebar-sub-header"><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#过滤器的奥秘" class="sidebar-link">过滤器的奥秘</a></li><li class="sidebar-sub-header"><a href="/books/javascript/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js.html#最佳实践" class="sidebar-link">最佳实践</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="深入浅出-vue-js"><a href="#深入浅出-vue-js" class="header-anchor">#</a> 深入浅出 Vue.js</h1> <p><img src="/assets/img/j6.b86febf9.jpg" alt="深入浅出 Vue.js"></p><div class="table-of-contents"><ul><li><a href="#vue-js-简史">Vue.js 简史</a><ul><li><a href="#什么是-vue-js">什么是 Vue.js</a></li><li><a href="#vue-js-简史">Vue.js 简史</a></li></ul></li><li><a href="#变化侦测">变化侦测</a><ul><li><a href="#object-的变化侦测">Object 的变化侦测</a></li><li><a href="#array-的变化侦测">Array 的变化侦测</a></li><li><a href="#变化侦测相关-api-实现原理">变化侦测相关 API 实现原理</a></li></ul></li><li><a href="#虚拟-dom">虚拟 DOM</a><ul><li><a href="#虚拟-dom-简介">虚拟 DOM 简介</a></li><li><a href="#vnode">VNode</a></li><li><a href="#patch">patch</a></li></ul></li><li><a href="#模版编译原理">模版编译原理</a><ul><li><a href="#模版编译">模版编译</a></li><li><a href="#解析器">解析器</a></li><li><a href="#优化器">优化器</a></li><li><a href="#代码生成器">代码生成器</a></li></ul></li><li><a href="#整体流程">整体流程</a><ul><li><a href="#架构设计与项目结构">架构设计与项目结构</a></li><li><a href="#实例方法与全局-api-的实现原理">实例方法与全局 API 的实现原理</a></li><li><a href="#生命周期">生命周期</a></li><li><a href="#指令的奥秘">指令的奥秘</a></li><li><a href="#过滤器的奥秘">过滤器的奥秘</a></li><li><a href="#最佳实践">最佳实践</a></li></ul></li></ul></div><p></p> <h2 id="vue-js-简史"><a href="#vue-js-简史" class="header-anchor">#</a> Vue.js 简史</h2> <h3 id="什么是-vue-js"><a href="#什么是-vue-js" class="header-anchor">#</a> 什么是 Vue.js</h3> <ul><li>The Progressive Framewor 渐进式框架</li></ul> <p>在我看来，渐进式的含义, 框架本身主张最少。</p> <p>如果有一个现成的服务端应用，也就是非单页应用，可以将 Vue.js 作为该应用的一部分嵌入其中，带来更加丰富的交互体验。甚至可以单纯只使用它的视图层当作模版引擎来使用。Vue.js 本身是一个自底向上增量开发的设计。</p> <h3 id="vue-js-简史-2"><a href="#vue-js-简史-2" class="header-anchor">#</a> Vue.js 简史</h3> <ul><li>2013/07/28 Evan You 为 Vue.js 的 repo 发起第一个 commit,此时该项目名叫做<strong>Element</strong>，后来更名为<strong>Seed.js</strong></li> <li>2013/12/07 发布版本 0.6.0，正式更名为 Vue.js，并且把默认指令前缀改为<code>v-</code>，Vue.js 正式问世。</li> <li>2014/02/01 Evan You 将 Vue.js0.8 发布在国外的 Hacker News 网站，这代表它首次公开发布。</li> <li>2015/10/26 Vue.js 发布 1.0.0 版本，代号“新世纪福音战士(Evangelion)”。</li></ul> <blockquote><p>&quot;The fate of destruction is also the joy of rebirth.&quot; 毁灭的命运，也是重生的喜悦。</p></blockquote> <ul><li>2016/10/01 Vue.js 发布 2.0.0 版本，代号“攻壳机动队(Ghost in the Shell)”</li></ul> <blockquote><p>&quot;Your effort to remain what you are is what limits you.&quot; 保持本色的努力，也在限制你的发展。</p></blockquote> <p>最早的 Vue.js 只做视图层，没有路由，没有状态管理，更没有官方的构建工具 vue-cli，只有一个库，放在网页里就可以直接用。</p> <p>最核心的部分是视图层渲染，然后往外是组件机制，在这个基础上再加入路由机制, 状态管理...，最外层是构建工具。</p> <p><img src="/assets/img/001.01e0bae1.jpg" alt="所谓渐进式"></p> <p>所谓分层，就是说你既可以只使用最核心的视图层渲染功能来实现快速开发，也可以使用全家桶来开发大型应用。</p> <p>Vue.js2.0 版本与 1.0 版本之间内部变化非常大，整个渲染层逻辑重写了，但是 API 层面的变化却很小。2.0 版本引入虚拟 DOM 的概念，其渲染过程更快了。但是值得注意的是，并不是引入虚拟 DOM 后渲染速度就一定会变快，<strong>准确的说，应该是 80%场景下变得更快了，剩余的 20%反而变慢了</strong>。</p> <h2 id="变化侦测"><a href="#变化侦测" class="header-anchor">#</a> 变化侦测</h2> <h3 id="object-的变化侦测"><a href="#object-的变化侦测" class="header-anchor">#</a> Object 的变化侦测</h3> <blockquote><p>Vue.js 最独特的特性之一是看起来并不显眼的响应式系统。数据模型仅仅是普通的 JavaScript 对象。而当你修改它们时，视图会进行更新。这使得状态管理非常简单、直接。不过理解其工作原理同样重要，这样你可以规避一些常见的问题。 ——官方文档</p></blockquote> <p>从状态生成 DOM，再输出到用户界面显示的一整套流程叫做渲染，应用在运行时会不断的进行重新渲染。而响应式系统赋予框架重新渲染的能力，其重要组成部分是变化侦测。变化侦测是响应式系统的核心，没有它，也就没有重新渲染。框架在运行时，视图也就无法随着状态的变化而变化。</p> <p>变化侦测的作用其实就是侦测数据的变化，当数据变化时，会通知视图进行相应的更新。也就是我们常说的“数据驱动”。</p> <h4 id="_2-1-什么是变化侦测"><a href="#_2-1-什么是变化侦测" class="header-anchor">#</a> 2.1 什么是变化侦测</h4> <p><code>Object</code>和<code>Array</code>的变化侦测是采用不同的处理方式。</p> <p>通常，在运行时应用内部的状态会不断发生变化，此时需要不停的重新渲染。这时如何确定状态中发送了什么变化？</p> <p>变化侦测就是来解决这个问题的，它分为两种类型：一种是 push，另一种是 pull。</p> <p>Angular.js 和 React.js 中的变化侦测都属于 pull，当状态发生变化时，它并不知道具体哪个状态改变了，只知道某个状态有可能变了，然后会发送一个信号告诉框架，框架内部收到信号后，会进行一个相对暴力的 diff 处理。在 Angular.js 中这是脏检查的流程，在 React.js 中使用的虚拟 DOM。</p> <p>而 Vue.js 的变化侦测属于 push，当状态变化时，Vue.js 立刻知道了，而且在一定程度上知道哪些状态有变化，因此可以做更细粒度的更新。</p> <p>更新的粒度更细，每个状态所绑定的依赖也就越多，依赖追踪在内存上的开销也就会越大。</p> <p>因此，Vue.js 从 2.0 开始引入虚拟 DOM，将粒度调整为中等，也就是一个状态绑定的依赖不再是具体的 DOM 节点，而是一个组件。</p> <h4 id="_2-2-如何追踪变化"><a href="#_2-2-如何追踪变化" class="header-anchor">#</a> 2.2 如何追踪变化</h4> <p>目前在 JS 中有两种方法可以侦测到对象的变化:</p> <ul><li>使用<code>Object.defineProperty</code></li> <li>使用<code>Proxy</code></li></ul> <p>由于兼容性问题，在 2.x 中还是使用的<code>Object.defineProperty</code>这个 API，下面是进行一个简单的封装函数</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    enumeratble<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    configurable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> val<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">===</span> newVal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      val <span class="token operator">=</span> newVal<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="_2-3-如何收集依赖"><a href="#_2-3-如何收集依赖" class="header-anchor">#</a> 2.3 如何收集依赖</h4> <p>进行简单的封装，其实并没有实际作用，真正有用的是收集依赖。</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>在 Vue.js 中，模版使用数据等同于组件使用数据，所以当数据发生变化时，会将通知发送到组件，然后组件内部在通过虚拟 DOM 重新渲染。</p></div> <p>在<code>getter</code>中收集依赖，在<code>setter</code>中触发依赖。</p> <h4 id="_2-4-依赖在哪里"><a href="#_2-4-依赖在哪里" class="header-anchor">#</a> 2.4 依赖在哪里</h4> <p>创建一个<code>Dep</code>类，专门用做管理依赖。使用这个类，我们可以进行收集依赖，删除依赖或向依赖发送通知。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> index <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Dep</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">addSub</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>sub<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">removeSub</span><span class="token punctuation">(</span><span class="token parameter">sub</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">,</span> sub<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">depend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 假设依赖是一个函数，并且挂在window上</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addSub</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> subs <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> length <span class="token operator">=</span> subs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      subs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>之后再改造一下<strong>defineReactive</strong>:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> dep <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    enumerable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    configurable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      dep<span class="token punctuation">.</span><span class="token function">deppend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">===</span> newVal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      val <span class="token operator">=</span> newVal<span class="token punctuation">;</span>
      dep<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="_2-5-依赖是谁"><a href="#_2-5-依赖是谁" class="header-anchor">#</a> 2.5 依赖是谁</h4> <p>在之前的代码中，我们收集的依赖是<code>window.target</code>。</p> <p>我们要通知用到此数据的地方，有可能会很多，而且类型还不一样，模版、computed、watch 等都有可能。这时需要抽象出一个能<strong>集中处理</strong>这些情况的类<code>Watcher</code>。然后，我们在收集依赖的阶段只收集这个封装好的实例进来，通知也只通知它一个，接着，它再负责通知到其它地方。</p> <h4 id="_2-6-什么是-wathcer"><a href="#_2-6-什么是-wathcer" class="header-anchor">#</a> 2.6 什么是 Wathcer</h4> <p><code>Watcher</code>是一个中介的角色，数据发生变化时通知它，然后它再通知其它地方。</p> <p>举个简单的用法例子:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>vm<span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span><span class="token string">&quot;a.b.c&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// do sth...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>此段代码表示当<code>data.a.b.c</code>的值发生变化时，触发二参回调。
实现这个功能，也就是将 Watcher 实例添加到<code>data.a.b.c</code>属性的<code>Dep</code>中，然后当该属性的值发生变化时，通知<code>Watcher</code>，接着<code>Watcher</code>再执行回调。
根据上面逻辑写出如下代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Watcher</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> expOrFn<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>vm <span class="token operator">=</span> vm<span class="token punctuation">;</span>
    <span class="token comment">// 执行this.getter()，就可以读取data.a.b.c的值</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>getter <span class="token operator">=</span> <span class="token function">parsePath</span><span class="token punctuation">(</span>expOrFn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>cb <span class="token operator">=</span> cb<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>target <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getter</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>vm<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>vm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    window<span class="token punctuation">.</span>target <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> oldValue <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token comment">// 赋值，手动触发一次</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">cb</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>vm<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h4 id="_2-7-递归侦测所有-key"><a href="#_2-7-递归侦测所有-key" class="header-anchor">#</a> 2.7 递归侦测所有 key</h4> <h4 id="_2-8-关于-object-的问题"><a href="#_2-8-关于-object-的问题" class="header-anchor">#</a> 2.8 关于 Object 的问题</h4> <h4 id="_2-9-总结"><a href="#_2-9-总结" class="header-anchor">#</a> 2.9 总结</h4> <h3 id="array-的变化侦测"><a href="#array-的变化侦测" class="header-anchor">#</a> Array 的变化侦测</h3> <h4 id="_3-1-如何追踪变化"><a href="#_3-1-如何追踪变化" class="header-anchor">#</a> 3.1 如何追踪变化</h4> <h4 id="_3-2-拦截器"><a href="#_3-2-拦截器" class="header-anchor">#</a> 3.2 拦截器</h4> <h4 id="_3-3-使用拦截器覆盖-array-原型"><a href="#_3-3-使用拦截器覆盖-array-原型" class="header-anchor">#</a> 3.3 使用拦截器覆盖 Array 原型</h4> <h4 id="_3-4-将拦截器方法挂载到数组的属性上"><a href="#_3-4-将拦截器方法挂载到数组的属性上" class="header-anchor">#</a> 3.4 将拦截器方法挂载到数组的属性上</h4> <h4 id="_3-5-如何收集依赖"><a href="#_3-5-如何收集依赖" class="header-anchor">#</a> 3.5 如何收集依赖</h4> <h4 id="_3-6-依赖列表在哪儿"><a href="#_3-6-依赖列表在哪儿" class="header-anchor">#</a> 3.6 依赖列表在哪儿</h4> <h4 id="_3-7-收集依赖"><a href="#_3-7-收集依赖" class="header-anchor">#</a> 3.7 收集依赖</h4> <h4 id="_3-8-在拦截器中获取-observer-实例"><a href="#_3-8-在拦截器中获取-observer-实例" class="header-anchor">#</a> 3.8 在拦截器中获取 Observer 实例</h4> <h4 id="_3-9-向数组的依赖发送通知"><a href="#_3-9-向数组的依赖发送通知" class="header-anchor">#</a> 3.9 向数组的依赖发送通知</h4> <h4 id="_3-10-侦测数组中的元素的变化"><a href="#_3-10-侦测数组中的元素的变化" class="header-anchor">#</a> 3.10 侦测数组中的元素的变化</h4> <h4 id="_3-11-侦测新增元素的变化"><a href="#_3-11-侦测新增元素的变化" class="header-anchor">#</a> 3.11 侦测新增元素的变化</h4> <h5 id="_3-11-1-获取新增元素"><a href="#_3-11-1-获取新增元素" class="header-anchor">#</a> 3.11.1 获取新增元素</h5> <h5 id="_3-11-2-使用-observer-侦测新增元素"><a href="#_3-11-2-使用-observer-侦测新增元素" class="header-anchor">#</a> 3.11.2 使用 Observer 侦测新增元素</h5> <h4 id="_3-12-关于-array-的问题"><a href="#_3-12-关于-array-的问题" class="header-anchor">#</a> 3.12 关于 Array 的问题</h4> <h4 id="_3-13-总结"><a href="#_3-13-总结" class="header-anchor">#</a> 3.13 总结</h4> <h3 id="变化侦测相关-api-实现原理"><a href="#变化侦测相关-api-实现原理" class="header-anchor">#</a> 变化侦测相关 API 实现原理</h3> <h4 id="_4-1vm-watch"><a href="#_4-1vm-watch" class="header-anchor">#</a> 4.1vm.$watch</h4> <h5 id="_4-1-1-用法"><a href="#_4-1-1-用法" class="header-anchor">#</a> 4.1.1 用法</h5> <h5 id="_4-1-2watch-的内部原理"><a href="#_4-1-2watch-的内部原理" class="header-anchor">#</a> 4.1.2watch 的内部原理</h5> <h5 id="_4-1-3deep-参数的实现原理"><a href="#_4-1-3deep-参数的实现原理" class="header-anchor">#</a> 4.1.3deep 参数的实现原理</h5> <h4 id="_4-2vm-set"><a href="#_4-2vm-set" class="header-anchor">#</a> 4.2vm.$set</h4> <h5 id="_4-2-1-用法"><a href="#_4-2-1-用法" class="header-anchor">#</a> 4.2.1 用法</h5> <h5 id="_4-2-2array-的处理"><a href="#_4-2-2array-的处理" class="header-anchor">#</a> 4.2.2Array 的处理</h5> <h5 id="_4-2-3key-已经存在于-target-中"><a href="#_4-2-3key-已经存在于-target-中" class="header-anchor">#</a> 4.2.3key 已经存在于 target 中</h5> <h5 id="_4-2-4-处理新增的属性"><a href="#_4-2-4-处理新增的属性" class="header-anchor">#</a> 4.2.4 处理新增的属性</h5> <h4 id="_4-3vm-delete"><a href="#_4-3vm-delete" class="header-anchor">#</a> 4.3vm.$delete</h4> <h5 id="_4-3-1-用法"><a href="#_4-3-1-用法" class="header-anchor">#</a> 4.3.1 用法</h5> <h5 id="_4-3-2-实现原理"><a href="#_4-3-2-实现原理" class="header-anchor">#</a> 4.3.2 实现原理</h5> <h4 id="_4-4-总结"><a href="#_4-4-总结" class="header-anchor">#</a> 4.4 总结</h4> <h2 id="虚拟-dom"><a href="#虚拟-dom" class="header-anchor">#</a> 虚拟 DOM</h2> <h3 id="虚拟-dom-简介"><a href="#虚拟-dom-简介" class="header-anchor">#</a> 虚拟 DOM 简介</h3> <h4 id="_5-1-什么是虚拟-dom"><a href="#_5-1-什么是虚拟-dom" class="header-anchor">#</a> 5.1 什么是虚拟 DOM</h4> <h4 id="_5-2-为什么要引入虚拟-dom"><a href="#_5-2-为什么要引入虚拟-dom" class="header-anchor">#</a> 5.2 为什么要引入虚拟 DOM</h4> <h4 id="_5-3vue-js-中的虚拟-dom"><a href="#_5-3vue-js-中的虚拟-dom" class="header-anchor">#</a> 5.3Vue.js 中的虚拟 DOM</h4> <h4 id="_5-4-总结"><a href="#_5-4-总结" class="header-anchor">#</a> 5.4 总结</h4> <h3 id="vnode"><a href="#vnode" class="header-anchor">#</a> VNode</h3> <h4 id="_6-1-什么是-vnode"><a href="#_6-1-什么是-vnode" class="header-anchor">#</a> 6.1 什么是 VNode</h4> <h4 id="_6-2vnode-的作用"><a href="#_6-2vnode-的作用" class="header-anchor">#</a> 6.2VNode 的作用</h4> <h4 id="_6-3vnode-的类型"><a href="#_6-3vnode-的类型" class="header-anchor">#</a> 6.3VNode 的类型</h4> <h5 id="_6-3-1-注释节点"><a href="#_6-3-1-注释节点" class="header-anchor">#</a> 6.3.1 注释节点</h5> <h5 id="_6-3-2-文本节点"><a href="#_6-3-2-文本节点" class="header-anchor">#</a> 6.3.2 文本节点</h5> <h5 id="_6-3-3-克隆节点"><a href="#_6-3-3-克隆节点" class="header-anchor">#</a> 6.3.3 克隆节点</h5> <h5 id="_6-3-4-元素节点"><a href="#_6-3-4-元素节点" class="header-anchor">#</a> 6.3.4 元素节点</h5> <h5 id="_6-3-5-组件节点"><a href="#_6-3-5-组件节点" class="header-anchor">#</a> 6.3.5 组件节点</h5> <h5 id="_6-3-6-函数式组件"><a href="#_6-3-6-函数式组件" class="header-anchor">#</a> 6.3.6 函数式组件</h5> <h4 id="_6-4-总结"><a href="#_6-4-总结" class="header-anchor">#</a> 6.4 总结</h4> <h3 id="patch"><a href="#patch" class="header-anchor">#</a> patch</h3> <h4 id="_7-1patch-介绍"><a href="#_7-1patch-介绍" class="header-anchor">#</a> 7.1patch 介绍</h4> <h5 id="_7-1-1-新增节点"><a href="#_7-1-1-新增节点" class="header-anchor">#</a> 7.1.1 新增节点</h5> <h5 id="_7-1-2-删除节点"><a href="#_7-1-2-删除节点" class="header-anchor">#</a> 7.1.2 删除节点</h5> <h5 id="_7-1-3-更新节点"><a href="#_7-1-3-更新节点" class="header-anchor">#</a> 7.1.3 更新节点</h5> <h5 id="_7-1-4-小结"><a href="#_7-1-4-小结" class="header-anchor">#</a> 7.1.4 小结</h5> <h4 id="_7-2-创建节点"><a href="#_7-2-创建节点" class="header-anchor">#</a> 7.2 创建节点</h4> <h4 id="_7-3-删除节点"><a href="#_7-3-删除节点" class="header-anchor">#</a> 7.3 删除节点</h4> <h4 id="_7-4-更新节点"><a href="#_7-4-更新节点" class="header-anchor">#</a> 7.4 更新节点</h4> <h5 id="_7-4-1-静态节点"><a href="#_7-4-1-静态节点" class="header-anchor">#</a> 7. 4.1 静态节点</h5> <h5 id="_7-4-2-新虚拟节点有文本属性"><a href="#_7-4-2-新虚拟节点有文本属性" class="header-anchor">#</a> 7. 4.2 新虚拟节点有文本属性</h5> <h5 id="_7-4-3-新虚拟节点无文本属性"><a href="#_7-4-3-新虚拟节点无文本属性" class="header-anchor">#</a> 7. 4.3 新虚拟节点无文本属性</h5> <h5 id="_7-4-4-小结"><a href="#_7-4-4-小结" class="header-anchor">#</a> 7. 4.4 小结</h5> <h4 id="_7-5-更新子节点"><a href="#_7-5-更新子节点" class="header-anchor">#</a> 7.5 更新子节点</h4> <h5 id="_7-5-1-更新策略"><a href="#_7-5-1-更新策略" class="header-anchor">#</a> 7.5.1 更新策略</h5> <h5 id="_7-5-2-优化策略"><a href="#_7-5-2-优化策略" class="header-anchor">#</a> 7.5.2 优化策略</h5> <h5 id="_7-5-3-哪些节点是未处理过的"><a href="#_7-5-3-哪些节点是未处理过的" class="header-anchor">#</a> 7.5.3 哪些节点是未处理过的</h5> <h5 id="_7-5-4-小结"><a href="#_7-5-4-小结" class="header-anchor">#</a> 7.5.4 小结</h5> <h4 id="_7-6-总结"><a href="#_7-6-总结" class="header-anchor">#</a> 7.6 总结</h4> <h2 id="模版编译原理"><a href="#模版编译原理" class="header-anchor">#</a> 模版编译原理</h2> <h3 id="模版编译"><a href="#模版编译" class="header-anchor">#</a> 模版编译</h3> <h4 id="_8-1-概念"><a href="#_8-1-概念" class="header-anchor">#</a> 8.1 概念</h4> <h4 id="_8-2-将模版编译成渲染函数"><a href="#_8-2-将模版编译成渲染函数" class="header-anchor">#</a> 8.2 将模版编译成渲染函数</h4> <h5 id="_8-2-1-解析器"><a href="#_8-2-1-解析器" class="header-anchor">#</a> 8.2.1 解析器</h5> <h5 id="_8-2-2-优化器"><a href="#_8-2-2-优化器" class="header-anchor">#</a> 8.2.2 优化器</h5> <h5 id="_8-2-3-代码生成器"><a href="#_8-2-3-代码生成器" class="header-anchor">#</a> 8.2.3 代码生成器</h5> <h4 id="_8-3-总结"><a href="#_8-3-总结" class="header-anchor">#</a> 8.3 总结</h4> <h3 id="解析器"><a href="#解析器" class="header-anchor">#</a> 解析器</h3> <h4 id="_9-1-解析器的作用"><a href="#_9-1-解析器的作用" class="header-anchor">#</a> 9.1 解析器的作用</h4> <h4 id="_9-2-解析器内部运行的原理"><a href="#_9-2-解析器内部运行的原理" class="header-anchor">#</a> 9.2 解析器内部运行的原理</h4> <h4 id="_9-3html-解析器"><a href="#_9-3html-解析器" class="header-anchor">#</a> 9.3HTML 解析器</h4> <h5 id="_9-3-1-运行原理"><a href="#_9-3-1-运行原理" class="header-anchor">#</a> 9.3.1 运行原理</h5> <h5 id="_9-3-2-截取开始标签"><a href="#_9-3-2-截取开始标签" class="header-anchor">#</a> 9.3.2 截取开始标签</h5> <h5 id="_9-3-3-截取结束标签"><a href="#_9-3-3-截取结束标签" class="header-anchor">#</a> 9.3.3 截取结束标签</h5> <h5 id="_9-3-4-截取注释"><a href="#_9-3-4-截取注释" class="header-anchor">#</a> 9.3.4 截取注释</h5> <h5 id="_9-3-5-截取条件注释"><a href="#_9-3-5-截取条件注释" class="header-anchor">#</a> 9.3.5 截取条件注释</h5> <h5 id="_9-3-6-截取-doctype"><a href="#_9-3-6-截取-doctype" class="header-anchor">#</a> 9.3.6 截取 DOCTYPE</h5> <h5 id="_9-3-7-截取文本"><a href="#_9-3-7-截取文本" class="header-anchor">#</a> 9.3.7 截取文本</h5> <h5 id="_9-3-8-纯文本内容元素的处理"><a href="#_9-3-8-纯文本内容元素的处理" class="header-anchor">#</a> 9.3.8 纯文本内容元素的处理</h5> <h5 id="_9-3-9-使用栈维护-dom-层级"><a href="#_9-3-9-使用栈维护-dom-层级" class="header-anchor">#</a> 9.3.9 使用栈维护 DOM 层级</h5> <h5 id="_9-3-10-整体逻辑"><a href="#_9-3-10-整体逻辑" class="header-anchor">#</a> 9.3.10 整体逻辑</h5> <h4 id="_9-4-文本解析器"><a href="#_9-4-文本解析器" class="header-anchor">#</a> 9.4 文本解析器</h4> <h4 id="_9-5-总结"><a href="#_9-5-总结" class="header-anchor">#</a> 9.5 总结</h4> <h3 id="优化器"><a href="#优化器" class="header-anchor">#</a> 优化器</h3> <h4 id="_10-1-找出所有静态节点并标记"><a href="#_10-1-找出所有静态节点并标记" class="header-anchor">#</a> 10.1 找出所有静态节点并标记</h4> <h4 id="_10-2-找出所有静态根节点并标记"><a href="#_10-2-找出所有静态根节点并标记" class="header-anchor">#</a> 10.2 找出所有静态根节点并标记</h4> <h4 id="_10-3-总结"><a href="#_10-3-总结" class="header-anchor">#</a> 10.3 总结</h4> <h3 id="代码生成器"><a href="#代码生成器" class="header-anchor">#</a> 代码生成器</h3> <h4 id="_11-1-通过-ast-生成代码字符串"><a href="#_11-1-通过-ast-生成代码字符串" class="header-anchor">#</a> 11.1 通过 AST 生成代码字符串</h4> <h4 id="_11-2-代码生成器的原理"><a href="#_11-2-代码生成器的原理" class="header-anchor">#</a> 11.2 代码生成器的原理</h4> <h5 id="_11-2-1-元素节点"><a href="#_11-2-1-元素节点" class="header-anchor">#</a> 11.2.1 元素节点</h5> <h5 id="_11-2-2-文本节点"><a href="#_11-2-2-文本节点" class="header-anchor">#</a> 11.2.2 文本节点</h5> <h5 id="_11-2-3-代码生成器的原理"><a href="#_11-2-3-代码生成器的原理" class="header-anchor">#</a> 11.2.3 代码生成器的原理</h5> <h4 id="_11-3-总结"><a href="#_11-3-总结" class="header-anchor">#</a> 11.3 总结</h4> <h2 id="整体流程"><a href="#整体流程" class="header-anchor">#</a> 整体流程</h2> <h3 id="架构设计与项目结构"><a href="#架构设计与项目结构" class="header-anchor">#</a> 架构设计与项目结构</h3> <h4 id="_12-1-目录结构"><a href="#_12-1-目录结构" class="header-anchor">#</a> 12.1 目录结构</h4> <h4 id="_12-2-架构设计"><a href="#_12-2-架构设计" class="header-anchor">#</a> 12.2 架构设计</h4> <h4 id="_12-3-总结"><a href="#_12-3-总结" class="header-anchor">#</a> 12.3 总结</h4> <h3 id="实例方法与全局-api-的实现原理"><a href="#实例方法与全局-api-的实现原理" class="header-anchor">#</a> 实例方法与全局 API 的实现原理</h3> <h4 id="_13-1-数据相关的实例方法"><a href="#_13-1-数据相关的实例方法" class="header-anchor">#</a> 13.1 数据相关的实例方法</h4> <h4 id="_13-2-事件相关的实例方法"><a href="#_13-2-事件相关的实例方法" class="header-anchor">#</a> 13.2 事件相关的实例方法</h4> <h5 id="_13-2-1-vm-on"><a href="#_13-2-1-vm-on" class="header-anchor">#</a> 13.2.1 vm.$on</h5> <h5 id="_13-2-2-vm-off"><a href="#_13-2-2-vm-off" class="header-anchor">#</a> 13.2.2 vm.$off</h5> <h5 id="_13-2-3-vm-once"><a href="#_13-2-3-vm-once" class="header-anchor">#</a> 13.2.3 vm.$once</h5> <h5 id="_13-2-4-vm-emit"><a href="#_13-2-4-vm-emit" class="header-anchor">#</a> 13.2.4 vm.$emit</h5> <h4 id="_13-3-生命周期相关的实例方法"><a href="#_13-3-生命周期相关的实例方法" class="header-anchor">#</a> 13.3 生命周期相关的实例方法</h4> <h5 id="_13-3-1-vm-forceupdate"><a href="#_13-3-1-vm-forceupdate" class="header-anchor">#</a> 13.3.1 vm.$forceUpdate</h5> <h5 id="_13-3-2-vm-destroy"><a href="#_13-3-2-vm-destroy" class="header-anchor">#</a> 13.3.2 vm.$destroy</h5> <h5 id="_13-3-3-vm-nexttick"><a href="#_13-3-3-vm-nexttick" class="header-anchor">#</a> 13.3.3 vm.$nextTick</h5> <h5 id="_13-3-4-vm-mount"><a href="#_13-3-4-vm-mount" class="header-anchor">#</a> 13.3.4 vm.$mount</h5> <h4 id="_13-4-全局-api-的实现原理"><a href="#_13-4-全局-api-的实现原理" class="header-anchor">#</a> 13.4 全局 API 的实现原理</h4> <h5 id="_13-4-1-vue-extend"><a href="#_13-4-1-vue-extend" class="header-anchor">#</a> 13.4.1 Vue.extend</h5> <h5 id="_13-4-2-vue-nexttick"><a href="#_13-4-2-vue-nexttick" class="header-anchor">#</a> 13.4.2 Vue.nextTick</h5> <h5 id="_13-4-3-vue-set"><a href="#_13-4-3-vue-set" class="header-anchor">#</a> 13.4.3 Vue.set</h5> <h5 id="_13-4-4-vue-delete"><a href="#_13-4-4-vue-delete" class="header-anchor">#</a> 13.4.4 Vue.delete</h5> <h5 id="_13-4-5-vue-directive"><a href="#_13-4-5-vue-directive" class="header-anchor">#</a> 13.4.5 Vue.directive</h5> <h5 id="_13-4-6-vue-filter"><a href="#_13-4-6-vue-filter" class="header-anchor">#</a> 13.4.6 Vue.filter</h5> <h5 id="_13-4-7-vue-component"><a href="#_13-4-7-vue-component" class="header-anchor">#</a> 13.4.7 Vue.component</h5> <h5 id="_13-4-8-vue-use"><a href="#_13-4-8-vue-use" class="header-anchor">#</a> 13.4.8 Vue.use</h5> <h5 id="_13-4-9-vue-mixin"><a href="#_13-4-9-vue-mixin" class="header-anchor">#</a> 13.4.9 Vue.mixin</h5> <h5 id="_13-4-10-vue-compile"><a href="#_13-4-10-vue-compile" class="header-anchor">#</a> 13.4.10 Vue.compile</h5> <h5 id="_13-4-10-vue-version"><a href="#_13-4-10-vue-version" class="header-anchor">#</a> 13.4.10 Vue.version</h5> <h4 id="_13-5-总结"><a href="#_13-5-总结" class="header-anchor">#</a> 13.5 总结</h4> <h3 id="生命周期"><a href="#生命周期" class="header-anchor">#</a> 生命周期</h3> <h4 id="_14-1-生命周期图示"><a href="#_14-1-生命周期图示" class="header-anchor">#</a> 14.1 生命周期图示</h4> <h5 id="_14-1-1-初始化阶段"><a href="#_14-1-1-初始化阶段" class="header-anchor">#</a> 14.1.1 初始化阶段</h5> <h5 id="_14-1-2-模版编译阶段"><a href="#_14-1-2-模版编译阶段" class="header-anchor">#</a> 14.1.2 模版编译阶段</h5> <h5 id="_14-1-3-挂载阶段"><a href="#_14-1-3-挂载阶段" class="header-anchor">#</a> 14.1.3 挂载阶段</h5> <h5 id="_14-1-4-卸载阶段"><a href="#_14-1-4-卸载阶段" class="header-anchor">#</a> 14.1.4 卸载阶段</h5> <h5 id="_14-1-5-小结"><a href="#_14-1-5-小结" class="header-anchor">#</a> 14.1.5 小结</h5> <h4 id="_14-2-从源码角度了解生命周期"><a href="#_14-2-从源码角度了解生命周期" class="header-anchor">#</a> 14.2 从源码角度了解生命周期</h4> <h4 id="_14-3-errorcaptured-与错误处理"><a href="#_14-3-errorcaptured-与错误处理" class="header-anchor">#</a> 14.3 errorCaptured 与错误处理</h4> <h4 id="_14-4-初始化实例属性"><a href="#_14-4-初始化实例属性" class="header-anchor">#</a> 14.4 初始化实例属性</h4> <h4 id="_14-5-初始化事件"><a href="#_14-5-初始化事件" class="header-anchor">#</a> 14.5 初始化事件</h4> <h4 id="_14-6-初始化-inject"><a href="#_14-6-初始化-inject" class="header-anchor">#</a> 14.6 初始化 inject</h4> <h5 id="_14-6-1-provide-inject-的使用方式"><a href="#_14-6-1-provide-inject-的使用方式" class="header-anchor">#</a> 14.6.1 provide/inject 的使用方式</h5> <h5 id="_14-6-2-inject-的内部原理"><a href="#_14-6-2-inject-的内部原理" class="header-anchor">#</a> 14.6.2 inject 的内部原理</h5> <h4 id="_14-7-初始化状态"><a href="#_14-7-初始化状态" class="header-anchor">#</a> 14.7 初始化状态</h4> <h5 id="_14-7-1-初始化-props"><a href="#_14-7-1-初始化-props" class="header-anchor">#</a> 14.7.1 初始化 props</h5> <h5 id="_14-7-2-初始化-methods"><a href="#_14-7-2-初始化-methods" class="header-anchor">#</a> 14.7.2 初始化 methods</h5> <h5 id="_14-7-3-初始化-data"><a href="#_14-7-3-初始化-data" class="header-anchor">#</a> 14.7.3 初始化 data</h5> <h5 id="_14-7-4-初始化-computed"><a href="#_14-7-4-初始化-computed" class="header-anchor">#</a> 14.7.4 初始化 computed</h5> <h5 id="_14-7-5-初始化-watch"><a href="#_14-7-5-初始化-watch" class="header-anchor">#</a> 14.7.5 初始化 watch</h5> <h4 id="_14-8-初始化-provide"><a href="#_14-8-初始化-provide" class="header-anchor">#</a> 14.8 初始化 provide</h4> <h4 id="_14-9-总结"><a href="#_14-9-总结" class="header-anchor">#</a> 14.9 总结</h4> <h3 id="指令的奥秘"><a href="#指令的奥秘" class="header-anchor">#</a> 指令的奥秘</h3> <h4 id="_15-1-指令原理概述"><a href="#_15-1-指令原理概述" class="header-anchor">#</a> 15.1 指令原理概述</h4> <h5 id="_15-1-1-v-if-指令的原理概述"><a href="#_15-1-1-v-if-指令的原理概述" class="header-anchor">#</a> 15.1.1 v-if 指令的原理概述</h5> <h5 id="_15-1-2-v-for-指令的原理概述"><a href="#_15-1-2-v-for-指令的原理概述" class="header-anchor">#</a> 15.1.2 v-for 指令的原理概述</h5> <h5 id="_15-1-3-v-on-指令"><a href="#_15-1-3-v-on-指令" class="header-anchor">#</a> 15.1.3 v-on 指令</h5> <h4 id="_15-1-自定义指令的内部原理"><a href="#_15-1-自定义指令的内部原理" class="header-anchor">#</a> 15.1 自定义指令的内部原理</h4> <h4 id="_15-1-虚拟-dom-钩子函数"><a href="#_15-1-虚拟-dom-钩子函数" class="header-anchor">#</a> 15.1 虚拟 DOM 钩子函数</h4> <h4 id="_15-1-总结"><a href="#_15-1-总结" class="header-anchor">#</a> 15.1 总结</h4> <h3 id="过滤器的奥秘"><a href="#过滤器的奥秘" class="header-anchor">#</a> 过滤器的奥秘</h3> <h4 id="_16-1-过滤器原理概述"><a href="#_16-1-过滤器原理概述" class="header-anchor">#</a> 16.1 过滤器原理概述</h4> <h5 id="_16-1-1-串联过滤器"><a href="#_16-1-1-串联过滤器" class="header-anchor">#</a> 16.1.1 串联过滤器</h5> <h5 id="_16-1-2-滤器接收参数"><a href="#_16-1-2-滤器接收参数" class="header-anchor">#</a> 16.1.2 滤器接收参数</h5> <h5 id="_16-1-3-resolvefilter-内部原理"><a href="#_16-1-3-resolvefilter-内部原理" class="header-anchor">#</a> 16.1.3 resolveFilter 内部原理</h5> <h4 id="_16-2-解析过滤器"><a href="#_16-2-解析过滤器" class="header-anchor">#</a> 16.2 解析过滤器</h4> <h4 id="_16-3-总结"><a href="#_16-3-总结" class="header-anchor">#</a> 16.3 总结</h4> <h3 id="最佳实践"><a href="#最佳实践" class="header-anchor">#</a> 最佳实践</h3> <h4 id="_17-1-为列表渲染设置属性-key"><a href="#_17-1-为列表渲染设置属性-key" class="header-anchor">#</a> 17.1 为列表渲染设置属性 key</h4> <h4 id="_17-2-在-v-if-v-if-else-v-else-中使用-key"><a href="#_17-2-在-v-if-v-if-else-v-else-中使用-key" class="header-anchor">#</a> 17.2 在 v-if/v-if-else/v-else 中使用 key</h4> <h4 id="_17-3-路由切换组件不变"><a href="#_17-3-路由切换组件不变" class="header-anchor">#</a> 17.3 路由切换组件不变</h4> <h5 id="_17-3-1-路由导航守卫-beforerouteupdate"><a href="#_17-3-1-路由导航守卫-beforerouteupdate" class="header-anchor">#</a> 17.3.1 路由导航守卫 beforeRouteUpdate</h5> <h5 id="_17-3-2-观察-route-对象的变化"><a href="#_17-3-2-观察-route-对象的变化" class="header-anchor">#</a> 17.3.2 观察$route 对象的变化</h5> <h5 id="_17-3-3-为-router-view-组件添加属性-key"><a href="#_17-3-3-为-router-view-组件添加属性-key" class="header-anchor">#</a> 17.3.3 为 router-view 组件添加属性 key</h5> <h4 id="_17-4-为所有路由统一添加-query"><a href="#_17-4-为所有路由统一添加-query" class="header-anchor">#</a> 17.4 为所有路由统一添加 query</h4> <h5 id="_17-4-1-使用全局守卫-beforeeach"><a href="#_17-4-1-使用全局守卫-beforeeach" class="header-anchor">#</a> 17.4.1 使用全局守卫 beforeEach</h5> <h5 id="_17-4-2-使用函数劫持"><a href="#_17-4-2-使用函数劫持" class="header-anchor">#</a> 17.4.2 使用函数劫持</h5> <h4 id="_17-5-区分-vuex-与-props-的使用边界"><a href="#_17-5-区分-vuex-与-props-的使用边界" class="header-anchor">#</a> 17.5 区分 Vuex 与 props 的使用边界</h4> <h4 id="_17-6-避免-v-if-和-v-for-一起使用"><a href="#_17-6-避免-v-if-和-v-for-一起使用" class="header-anchor">#</a> 17.6 避免 v-if 和 v-for 一起使用</h4> <h4 id="_17-7-为组件样式设置作用域"><a href="#_17-7-为组件样式设置作用域" class="header-anchor">#</a> 17.7 为组件样式设置作用域</h4> <h4 id="_17-8-避免在-scoped-中使用元素选择器"><a href="#_17-8-避免在-scoped-中使用元素选择器" class="header-anchor">#</a> 17.8 避免在 scoped 中使用元素选择器</h4> <h4 id="_17-9-避免隐性的父子组件通信"><a href="#_17-9-避免隐性的父子组件通信" class="header-anchor">#</a> 17.9 避免隐性的父子组件通信</h4> <h4 id="_17-10-单文件组件如何命名"><a href="#_17-10-单文件组件如何命名" class="header-anchor">#</a> 17.10 单文件组件如何命名</h4> <h5 id="_17-10-1-单文件组件的文件名的大小写"><a href="#_17-10-1-单文件组件的文件名的大小写" class="header-anchor">#</a> 17.10.1 单文件组件的文件名的大小写</h5> <h5 id="_17-10-2-基础组件名"><a href="#_17-10-2-基础组件名" class="header-anchor">#</a> 17.10.2 基础组件名</h5> <h5 id="_17-10-3-单例组件名"><a href="#_17-10-3-单例组件名" class="header-anchor">#</a> 17.10.3 单例组件名</h5> <h5 id="_17-10-4-紧密耦合的组件名"><a href="#_17-10-4-紧密耦合的组件名" class="header-anchor">#</a> 17.10.4 紧密耦合的组件名</h5> <h5 id="_17-10-5-组件名中的单词顺序"><a href="#_17-10-5-组件名中的单词顺序" class="header-anchor">#</a> 17.10.5 组件名中的单词顺序</h5> <h5 id="_17-10-6-完整单词的组件名"><a href="#_17-10-6-完整单词的组件名" class="header-anchor">#</a> 17.10.6 完整单词的组件名</h5> <h5 id="_17-10-7-组件名为多个单词"><a href="#_17-10-7-组件名为多个单词" class="header-anchor">#</a> 17.10.7 组件名为多个单词</h5> <h5 id="_17-10-8-模版中的组件名大小写"><a href="#_17-10-8-模版中的组件名大小写" class="header-anchor">#</a> 17.10.8 模版中的组件名大小写</h5> <h5 id="_17-10-9-js-jsx-中的组件名大小写"><a href="#_17-10-9-js-jsx-中的组件名大小写" class="header-anchor">#</a> 17.10.9 JS/JSX 中的组件名大小写</h5> <h4 id="_17-11-自闭合组件"><a href="#_17-11-自闭合组件" class="header-anchor">#</a> 17.11 自闭合组件</h4> <h4 id="_17-12-props-名的大小写"><a href="#_17-12-props-名的大小写" class="header-anchor">#</a> 17.12 props 名的大小写</h4> <h4 id="_17-13-多个特性的元素"><a href="#_17-13-多个特性的元素" class="header-anchor">#</a> 17.13 多个特性的元素</h4> <h4 id="_17-14-模版中简单的表达式"><a href="#_17-14-模版中简单的表达式" class="header-anchor">#</a> 17.14 模版中简单的表达式</h4> <h4 id="_17-15-简单的计算属性"><a href="#_17-15-简单的计算属性" class="header-anchor">#</a> 17.15 简单的计算属性</h4> <h4 id="_17-16-指令缩写"><a href="#_17-16-指令缩写" class="header-anchor">#</a> 17.16 指令缩写</h4> <h4 id="_17-17-良好的代码顺序"><a href="#_17-17-良好的代码顺序" class="header-anchor">#</a> 17.17 良好的代码顺序</h4> <h5 id="_17-17-1-组件-实例的选项的顺序"><a href="#_17-17-1-组件-实例的选项的顺序" class="header-anchor">#</a> 17.17.1 组件/实例的选项的顺序</h5> <h5 id="_17-17-2-元素特性的顺序"><a href="#_17-17-2-元素特性的顺序" class="header-anchor">#</a> 17.17.2 元素特性的顺序</h5> <h5 id="_17-17-3-单文件组件顶级元素的顺序"><a href="#_17-17-3-单文件组件顶级元素的顺序" class="header-anchor">#</a> 17.17.3 单文件组件顶级元素的顺序</h5> <h4 id="_17-18-总结"><a href="#_17-18-总结" class="header-anchor">#</a> 17.18 总结</h4></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最近更新时间:</span> <span class="time">5/17/2020, 10:59:30 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ad74b50b.js" defer></script><script src="/assets/js/2.2054c3ab.js" defer></script><script src="/assets/js/9.b3d60b51.js" defer></script>
  </body>
</html>
